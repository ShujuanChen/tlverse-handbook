<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 3 The Roadmap for Targeted Learning | Targeted Learning in R</title>
<meta name="author" content="Mark van der Laan, Jeremy Coyle, Nima Hejazi, Ivana Malenica, Rachael Phillips, Alan Hubbard">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.8/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.9001/transition.js"></script><script src="libs/bs3compat-0.2.5.9001/tabs.js"></script><script src="libs/bs3compat-0.2.5.9001/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
</head>
<body>
<span class="math inline">
    \(\DeclareMathOperator{\expit}{expit}\)
    \(\DeclareMathOperator{\logit}{logit}\)
    \(\DeclareMathOperator*{\argmin}{\arg\!\min}\)
    \(\newcommand{\indep}{\perp\!\!\!\perp}\)
    \(\newcommand{\coloneqq}{\mathrel{=}}\)
    \(\newcommand{\R}{\mathbb{R}}\)
    \(\newcommand{\E}{\mathbb{E}}\)
    \(\newcommand{\M}{\mathcal{M}}\)
    \(\renewcommand{\P}{\mathbb{P}}\)
    \(\newcommand{\I}{\mathbb{I}}\)
    \(\newcommand{\1}{\mathbbm{1}}\)
    </span>
    <script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="Causal Data Science with the tlverse Software Ecosystem">Targeted Learning in R</a>:
        <small class="text-muted">Causal Data Science with the tlverse Software Ecosystem</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About this book</a></li>
<li><a class="" href="robust.html"><span class="header-section-number">1</span> Robust Statistics and Reproducible Science</a></li>
<li><a class="" href="data.html"><span class="header-section-number">2</span> Meet the Data</a></li>
<li><a class="active" href="roadmap.html"><span class="header-section-number">3</span> The Roadmap for Targeted Learning</a></li>
<li><a class="" href="tlverse.html"><span class="header-section-number">4</span> Welcome to the tlverse</a></li>
<li><a class="" href="origami.html"><span class="header-section-number">5</span> Cross-validation</a></li>
<li><a class="" href="sl3.html"><span class="header-section-number">6</span> Super (Machine) Learning</a></li>
<li><a class="" href="tmle3.html"><span class="header-section-number">7</span> The TMLE Framework</a></li>
<li><a class="" href="r6.html"><span class="header-section-number">8</span> A Primer on the R6 Class System</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/tlverse/tlverse-handbook">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="roadmap" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> The Roadmap for Targeted Learning<a class="anchor" aria-label="anchor" href="#roadmap"><i class="fas fa-link"></i></a>
</h1>
<p>In this chapter you will…</p>
<ol style="list-style-type: decimal">
<li>Translate scientific questions to statistical questions.</li>
<li>Define a statistical model based on the knowledge of the experiment that generated the data.</li>
<li>Identify a causal parameter as a function of the observed data distribution.</li>
<li>Explain the following causal and statistical assumptions and their implications: i.i.d., consistency, interference, positivity, SUTVA.</li>
</ol>
<div id="introduction" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction"><i class="fas fa-link"></i></a>
</h2>
<p>The roadmap of statistical learning is concerned with the translation from real-world data applications to a mathematical and statistical formulation of the relevant estimation problem. This involves data as a random variable having a probability distribution, scientific knowledge represented by a statistical model, a statistical target parameter representing an answer to the question of interest, and the notion of an estimator and sampling distribution of the estimator.</p>
</div>
<div id="the-roadmap" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> The Roadmap<a class="anchor" aria-label="anchor" href="#the-roadmap"><i class="fas fa-link"></i></a>
</h2>
<p>Following the roadmap is a process of five steps.</p>
<ol style="list-style-type: decimal">
<li>Data: Data as a random variable with a probability distribution, <span class="math inline">\(O\sim P_0\)</span>
</li>
<li>Model: The statistical model <span class="math inline">\(\mathcal{M}\)</span> such that <span class="math inline">\(P_0 \in \mathcal{M}\)</span>
</li>
<li>Parameter: The statistical target parameter <span class="math inline">\(\Psi\)</span> and estimand <span class="math inline">\(\Psi(P_0)\)</span>.</li>
<li>Estimation: The estimator <span class="math inline">\(\hat{\Psi}\)</span> and estimand <span class="math inline">\(\hat{\Psi}(P_n)\)</span>.</li>
<li>Inference: A measure of uncertainty for the estimate <span class="math inline">\(\hat{\Psi}(P_n)\)</span>
</li>
</ol>
</div>
<div id="schematic-example" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> Schematic Example<a class="anchor" aria-label="anchor" href="#schematic-example"><i class="fas fa-link"></i></a>
</h2>
<p>Remember the schematic from last chapter? Let’s start a roadmap for it before going on to talk about the steps in more detail</p>
<div id="data-step" class="section level3" number="3.3.1">
<h3>
<span class="header-section-number">3.3.1</span> Data Step<a class="anchor" aria-label="anchor" href="#data-step"><i class="fas fa-link"></i></a>
</h3>
<p>We can describe the data as a set of observations about an individual (it’s more general to say experimental unit) and, for our schematic example, we can denote an observation like so:</p>
<p><span class="math display">\[O \equiv (W,A,Y)\]</span></p>
<p>a collection of facts (here <span class="math inline">\(W\)</span>, <span class="math inline">\(A\)</span>, and <span class="math inline">\(Y\)</span>) about an individual observation <span class="math inline">\(O\)</span>. We think of a set of data as a set of such observations. We think of that observation as a random draw from a distribution of possible observations we denote <span class="math inline">\(P_0\)</span> (here the subscript <span class="math inline">\(0\)</span> denotes the real one, we’ll use other subscripts to denote theoretical or estimated distributions). We call <span class="math inline">\(P_0\)</span> the probability distribution or data generating distribution (DGD).</p>
<p>How the observation is drawn from the sample is important. That’s called the experiment. How to translate between a real world experiment and a probability model is outside the scope of this book. For now, we’ll focus on what we call independent and identically distributed (i.i.d.) data. That means that each unit <span class="math inline">\(O\)</span> got drawn from the same <span class="math inline">\(P_0\)</span> in the same way. No other sample can change another samples outcome, and all samples get drawn from the same imaginary box. Options and modifications of our methodology are available for for complex and biased samples, repeated measures, and other sampling concerns.</p>
<p>Luckily for us, we have just such data in our schematic dataset.</p>
</div>
<div id="model-step" class="section level3" number="3.3.2">
<h3>
<span class="header-section-number">3.3.2</span> Model Step<a class="anchor" aria-label="anchor" href="#model-step"><i class="fas fa-link"></i></a>
</h3>
<p>Just like we had a set of observations we called a dataset, we have a set of possible probability distributions. You might think we call that a distribution set, but we don’t, we call it a model. We denote it <span class="math inline">\(\mathcal{M}\)</span> and we write:</p>
<p><span class="math display">\[P_0 \in \mathcal{M}\]</span></p>
<p>To indicate that the true DGD is part of our model. This is important, because if our model doesn’t contain the truth, it will be impossible for us to get the right answer, even with infinite data!</p>
<p>Well, what can we say about <span class="math inline">\(\mathcal{M}\)</span>? That is, what can we say for sure about what <span class="math inline">\(P_0\)</span> might look like. Given that I haven’t told you much about the data or the experiment, really very little! We’ll see in later chapters how some statisticians want to do statistics in small models, that we can be quite sure don’t contain <span class="math inline">\(P_0\)</span> , because it makes the statistics easier. For now we’ll just say that <span class="math inline">\(\mathcal{M}\)</span> is nonparametric, which essentially means that we can’t make any assumptions about it.</p>
<p>The truth is, we can make a few assumptions based on the observed data types and our belief that we’ve observed all the values of some of the variables. For example, we think <span class="math inline">\(A\)</span> can only be 0 or 1, and <span class="math inline">\(W\)</span>ranges between 1 and 10. It also seems like <span class="math inline">\(Y\)</span> varies in a small range, so we could incorporate that as a modeling assumption if we were fairly confident that that’s its true range. We don’t often write these things as part of the model explicitly, but they are part of it.</p>
</div>
<div id="parameter-step" class="section level3" number="3.3.3">
<h3>
<span class="header-section-number">3.3.3</span> Parameter Step<a class="anchor" aria-label="anchor" href="#parameter-step"><i class="fas fa-link"></i></a>
</h3>
<p>We said that we want to know about the effect of the treatment <span class="math inline">\(A\)</span> on the outcome <span class="math inline">\(Y\)</span>. There’s a lot of ways we could formalize that mathematically, but here’s one we like:</p>
<p><span class="math display">\[\Psi_{0,\text{TSM}}=E_W[E_{Y|A,W}[Y|A=1,W]]\]</span></p>
<p>we call this a Treatment Specific Mean (TSM):</p>
<p>Basically, we want to know the mean of <span class="math inline">\(Y\)</span> for every <span class="math inline">\(W\)</span>, when we set <span class="math inline">\(A=1\)</span>. We then want to take a mean across <span class="math inline">\(W\)</span>s, which we call “marginalizing”. We say call this a treatment specific mean because it’s the mean outcome <span class="math inline">\(Y\)</span> we’d expect under the specific treatment <span class="math inline">\(A=1\)</span>. That tells us something about how treatment affects outcome. However, we’d often like to compare outcomes under two conditions. We can use a pair of TSMs to make an Average Treatment Effect (ATE):</p>
<p><span class="math display">\[\Psi_{0,\text{ATE}}=E_W[E_{Y|A,W}[Y|A=1,W]]- E_W[E_{Y|A,W}[Y|A=0,W]]\]</span></p>
<p>Many other types of parameters like relative risks and odds ratios can be defined by simple combinations of TSMs. We’ll see later how we can use the Delta Method to estimate parameters like these starting with estimates of TSMs.</p>
</div>
<div id="estimation-step" class="section level3" number="3.3.4">
<h3>
<span class="header-section-number">3.3.4</span> Estimation Step<a class="anchor" aria-label="anchor" href="#estimation-step"><i class="fas fa-link"></i></a>
</h3>
<p>Explain plug-ins here</p>
<p>Say we’ll see more in next two chapters</p>
</div>
<div id="inference-step" class="section level3" number="3.3.5">
<h3>
<span class="header-section-number">3.3.5</span> Inference Step<a class="anchor" aria-label="anchor" href="#inference-step"><i class="fas fa-link"></i></a>
</h3>
<p>We’ll cover this later</p>
</div>
</div>
<div id="wash-benefits-example" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> WASH Benefits Example<a class="anchor" aria-label="anchor" href="#wash-benefits-example"><i class="fas fa-link"></i></a>
</h2>
<div id="data-step-1" class="section level3" number="3.4.1">
<h3>
<span class="header-section-number">3.4.1</span> Data Step<a class="anchor" aria-label="anchor" href="#data-step-1"><i class="fas fa-link"></i></a>
</h3>
<p>We still say <span class="math inline">\(O \equiv (W,A,Y)\)</span>, except now <span class="math inline">\(W\)</span> is a vector of many covariates.</p>
<p>For the purposes of this handbook, we will say that the sample was generated i.i.d as before. This study had a cluster design, so this is not actually the case. We could, with available options, account for the clustering of the data.</p>
</div>
<div id="model-step-1" class="section level3" number="3.4.2">
<h3>
<span class="header-section-number">3.4.2</span> Model Step<a class="anchor" aria-label="anchor" href="#model-step-1"><i class="fas fa-link"></i></a>
</h3>
<p>We still don’t know anything, so we’ll stick with a nonparametric model <span class="math inline">\(\mathcal{M}\)</span>.</p>
</div>
<div id="parameter-step-1" class="section level3" number="3.4.3">
<h3>
<span class="header-section-number">3.4.3</span> Parameter Step<a class="anchor" aria-label="anchor" href="#parameter-step-1"><i class="fas fa-link"></i></a>
</h3>
<p>We would like to estimate TSMs for every treatment level, as well as ATEs between some treatment levels and the control treatment.</p>
</div>
<div id="estimation-step-1" class="section level3" number="3.4.4">
<h3>
<span class="header-section-number">3.4.4</span> Estimation Step<a class="anchor" aria-label="anchor" href="#estimation-step-1"><i class="fas fa-link"></i></a>
</h3>
</div>
<div id="inference-step-1" class="section level3" number="3.4.5">
<h3>
<span class="header-section-number">3.4.5</span> Inference Step<a class="anchor" aria-label="anchor" href="#inference-step-1"><i class="fas fa-link"></i></a>
</h3>
</div>
</div>
<div id="causal-concerns" class="section level2" number="3.5">
<h2>
<span class="header-section-number">3.5</span> Causal Concerns<a class="anchor" aria-label="anchor" href="#causal-concerns"><i class="fas fa-link"></i></a>
</h2>
<p>Current roadmap text goes here</p>
</div>
<div id="exercises" class="section level2" number="3.6">
<h2>
<span class="header-section-number">3.6</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises"><i class="fas fa-link"></i></a>
</h2>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="data.html"><span class="header-section-number">2</span> Meet the Data</a></div>
<div class="next"><a href="tlverse.html"><span class="header-section-number">4</span> Welcome to the tlverse</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#roadmap"><span class="header-section-number">3</span> The Roadmap for Targeted Learning</a></li>
<li><a class="nav-link" href="#introduction"><span class="header-section-number">3.1</span> Introduction</a></li>
<li><a class="nav-link" href="#the-roadmap"><span class="header-section-number">3.2</span> The Roadmap</a></li>
<li>
<a class="nav-link" href="#schematic-example"><span class="header-section-number">3.3</span> Schematic Example</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#data-step"><span class="header-section-number">3.3.1</span> Data Step</a></li>
<li><a class="nav-link" href="#model-step"><span class="header-section-number">3.3.2</span> Model Step</a></li>
<li><a class="nav-link" href="#parameter-step"><span class="header-section-number">3.3.3</span> Parameter Step</a></li>
<li><a class="nav-link" href="#estimation-step"><span class="header-section-number">3.3.4</span> Estimation Step</a></li>
<li><a class="nav-link" href="#inference-step"><span class="header-section-number">3.3.5</span> Inference Step</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#wash-benefits-example"><span class="header-section-number">3.4</span> WASH Benefits Example</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#data-step-1"><span class="header-section-number">3.4.1</span> Data Step</a></li>
<li><a class="nav-link" href="#model-step-1"><span class="header-section-number">3.4.2</span> Model Step</a></li>
<li><a class="nav-link" href="#parameter-step-1"><span class="header-section-number">3.4.3</span> Parameter Step</a></li>
<li><a class="nav-link" href="#estimation-step-1"><span class="header-section-number">3.4.4</span> Estimation Step</a></li>
<li><a class="nav-link" href="#inference-step-1"><span class="header-section-number">3.4.5</span> Inference Step</a></li>
</ul>
</li>
<li><a class="nav-link" href="#causal-concerns"><span class="header-section-number">3.5</span> Causal Concerns</a></li>
<li><a class="nav-link" href="#exercises"><span class="header-section-number">3.6</span> Exercises</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/tlverse/tlverse-handbook/blob/master/03-roadmap.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/tlverse/tlverse-handbook/edit/master/03-roadmap.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Targeted Learning in R</strong>: Causal Data Science with the tlverse Software Ecosystem" was written by Mark van der Laan, Jeremy Coyle, Nima Hejazi, Ivana Malenica, Rachael Phillips, Alan Hubbard. It was last built on September 22, 2021.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
