<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 5 Cross-validation | Targeted Learning in R</title>
<meta name="author" content="Mark van der Laan, Jeremy Coyle, Nima Hejazi, Ivana Malenica, Rachael Phillips, Alan Hubbard">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.8/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.9001/transition.js"></script><script src="libs/bs3compat-0.2.5.9001/tabs.js"></script><script src="libs/bs3compat-0.2.5.9001/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
</head>
<body>
<span class="math inline">
    \(\DeclareMathOperator{\expit}{expit}\)
    \(\DeclareMathOperator{\logit}{logit}\)
    \(\DeclareMathOperator*{\argmin}{\arg\!\min}\)
    \(\newcommand{\indep}{\perp\!\!\!\perp}\)
    \(\newcommand{\coloneqq}{\mathrel{=}}\)
    \(\newcommand{\R}{\mathbb{R}}\)
    \(\newcommand{\E}{\mathbb{E}}\)
    \(\newcommand{\M}{\mathcal{M}}\)
    \(\renewcommand{\P}{\mathbb{P}}\)
    \(\newcommand{\I}{\mathbb{I}}\)
    \(\newcommand{\1}{\mathbbm{1}}\)
    </span>
    <script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="Causal Data Science with the tlverse Software Ecosystem">Targeted Learning in R</a>:
        <small class="text-muted">Causal Data Science with the tlverse Software Ecosystem</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About this book</a></li>
<li><a class="" href="robust.html"><span class="header-section-number">1</span> Robust Statistics and Reproducible Science</a></li>
<li><a class="" href="data.html"><span class="header-section-number">2</span> Meet the Data</a></li>
<li><a class="" href="roadmap.html"><span class="header-section-number">3</span> The Roadmap for Targeted Learning</a></li>
<li><a class="" href="tlverse.html"><span class="header-section-number">4</span> Welcome to the tlverse</a></li>
<li><a class="active" href="origami.html"><span class="header-section-number">5</span> Cross-validation</a></li>
<li><a class="" href="sl3.html"><span class="header-section-number">6</span> Super (Machine) Learning</a></li>
<li><a class="" href="tmle3.html"><span class="header-section-number">7</span> The TMLE Framework</a></li>
<li><a class="" href="r6.html"><span class="header-section-number">8</span> A Primer on the R6 Class System</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/tlverse/tlverse-handbook">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="origami" class="section level1" number="5">
<h1>
<span class="header-section-number">5</span> Cross-validation<a class="anchor" aria-label="anchor" href="#origami"><i class="fas fa-link"></i></a>
</h1>
<div id="learning-objectives-1" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Learning Objectives<a class="anchor" aria-label="anchor" href="#learning-objectives-1"><i class="fas fa-link"></i></a>
</h2>
<p>By the end of this chapter you will be able to:</p>
<ol style="list-style-type: decimal">
<li>Differentiate between training, validation and test sets.</li>
<li>Understand the concept of a loss function, risk and cross-validation.</li>
<li>Select a loss function that is appropriate for the functional parameter to be
estimated.</li>
<li>Understand and contrast different cross-validation schemes for i.i.d. data.</li>
<li>Understand and contrast different cross-validation schemes for time dependent
data.</li>
<li>Setup the proper fold structure, build custom fold-based function, and
cross-validate the proposed function using the <code>origami</code> <code>R</code> package.</li>
<li>Setup the proper cross-validation structure for the use by the Super Learner
using the the <code>origami</code> <code>R</code> package.</li>
</ol>
</div>
<div id="roadmap-review" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Roadmap Review<a class="anchor" aria-label="anchor" href="#roadmap-review"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="we-want-to-fit-the-data-to-estimate-q" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> We want to fit the data to estimate Q<a class="anchor" aria-label="anchor" href="#we-want-to-fit-the-data-to-estimate-q"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="we-can-propose-and-test-models" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> We can propose and test models<a class="anchor" aria-label="anchor" href="#we-can-propose-and-test-models"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="schematic-example-1" class="section level2" number="5.5">
<h2>
<span class="header-section-number">5.5</span> schematic example<a class="anchor" aria-label="anchor" href="#schematic-example-1"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="show-overfit-on-test-set" class="section level2" number="5.6">
<h2>
<span class="header-section-number">5.6</span> show overfit on test set<a class="anchor" aria-label="anchor" href="#show-overfit-on-test-set"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="show-cross-validation" class="section level2" number="5.7">
<h2>
<span class="header-section-number">5.7</span> show cross-validation<a class="anchor" aria-label="anchor" href="#show-cross-validation"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="washb-example" class="section level2" number="5.8">
<h2>
<span class="header-section-number">5.8</span> washb example<a class="anchor" aria-label="anchor" href="#washb-example"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="advanced-usage" class="section level2" number="5.9">
<h2>
<span class="header-section-number">5.9</span> advanced usage<a class="anchor" aria-label="anchor" href="#advanced-usage"><i class="fas fa-link"></i></a>
</h2>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="tlverse.html"><span class="header-section-number">4</span> Welcome to the tlverse</a></div>
<div class="next"><a href="sl3.html"><span class="header-section-number">6</span> Super (Machine) Learning</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#origami"><span class="header-section-number">5</span> Cross-validation</a></li>
<li><a class="nav-link" href="#learning-objectives-1"><span class="header-section-number">5.1</span> Learning Objectives</a></li>
<li><a class="nav-link" href="#roadmap-review"><span class="header-section-number">5.2</span> Roadmap Review</a></li>
<li><a class="nav-link" href="#we-want-to-fit-the-data-to-estimate-q"><span class="header-section-number">5.3</span> We want to fit the data to estimate Q</a></li>
<li><a class="nav-link" href="#we-can-propose-and-test-models"><span class="header-section-number">5.4</span> We can propose and test models</a></li>
<li><a class="nav-link" href="#schematic-example-1"><span class="header-section-number">5.5</span> schematic example</a></li>
<li><a class="nav-link" href="#show-overfit-on-test-set"><span class="header-section-number">5.6</span> show overfit on test set</a></li>
<li><a class="nav-link" href="#show-cross-validation"><span class="header-section-number">5.7</span> show cross-validation</a></li>
<li><a class="nav-link" href="#washb-example"><span class="header-section-number">5.8</span> washb example</a></li>
<li><a class="nav-link" href="#advanced-usage"><span class="header-section-number">5.9</span> advanced usage</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/tlverse/tlverse-handbook/blob/master/05-origami.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/tlverse/tlverse-handbook/edit/master/05-origami.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Targeted Learning in R</strong>: Causal Data Science with the tlverse Software Ecosystem" was written by Mark van der Laan, Jeremy Coyle, Nima Hejazi, Ivana Malenica, Rachael Phillips, Alan Hubbard. It was last built on September 22, 2021.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
