<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Ensemble Machine Learning | The Hitchhiker’s Guide to the tlverse</title>
  <meta name="description" content="An open-source and fully-reproducible electronic handbook for applying the targeted learning methodology in practice using the tlverse software ecosystem." />
  <meta name="generator" content="bookdown 0.14.1 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Ensemble Machine Learning | The Hitchhiker’s Guide to the tlverse" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://tlverse.org/tlverse-handbook/" />
  
  <meta property="og:description" content="An open-source and fully-reproducible electronic handbook for applying the targeted learning methodology in practice using the tlverse software ecosystem." />
  <meta name="github-repo" content="tlverse/tlverse-handbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Ensemble Machine Learning | The Hitchhiker’s Guide to the tlverse" />
  
  <meta name="twitter:description" content="An open-source and fully-reproducible electronic handbook for applying the targeted learning methodology in practice using the tlverse software ecosystem." />
  

<meta name="author" content="Jeremy Coyle, Nima Hejazi, Ivana Malenica, Rachael Phillips, Alan Hubbard, Mark van der Laan" />


<meta name="date" content="2019-10-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/logos/favicons/favicon.png" type="image/x-icon" />
<link rel="prev" href="tlverse.html"/>
<link rel="next" href="the-tmle-framework.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="libs/vis-4.20.1/vis.min.js"></script>
<script src="libs/visNetwork-binding-2.0.8/visNetwork.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-89938436-1', 'auto');
  ga('send', 'pageview');
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The Hitchhiker's Guide to the tlverse</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i>About this book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#outline"><i class="fa fa-check"></i>Outline</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-this-book-is-not"><i class="fa fa-check"></i>What this book is not</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-authors"><i class="fa fa-check"></i>About the authors</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#jeremy-coyle"><i class="fa fa-check"></i>Jeremy Coyle</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#nima-hejazi"><i class="fa fa-check"></i>Nima Hejazi</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#ivana-malenica"><i class="fa fa-check"></i>Ivana Malenica</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#rachael-phillips"><i class="fa fa-check"></i>Rachael Phillips</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#alan-hubbard"><i class="fa fa-check"></i>Alan Hubbard</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#mark-van-der-laan"><i class="fa fa-check"></i>Mark van der Laan</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#learn"><i class="fa fa-check"></i><b>0.1</b> Recommended Learning Resources</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#setup-instructions"><i class="fa fa-check"></i><b>0.2</b> Setup instructions</a><ul>
<li class="chapter" data-level="0.2.1" data-path="index.html"><a href="index.html#r-and-rstudio"><i class="fa fa-check"></i><b>0.2.1</b> R and RStudio</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="motivation.html"><a href="motivation.html"><i class="fa fa-check"></i>Motivation</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> The Roadmap for Targeted Learning</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#learning-objectives"><i class="fa fa-check"></i><b>1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#introduction"><i class="fa fa-check"></i><b>1.2</b> Introduction</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#the-roadmap"><i class="fa fa-check"></i><b>1.3</b> The Roadmap</a><ul>
<li><a href="intro.html#data-as-a-random-variable-with-a-probability-distribution-o-sim-p_0">(1) Data as a random variable with a probability distribution, <span class="math inline">\(O \sim P_0\)</span></a></li>
<li><a href="intro.html#the-statistical-model-mathcalm-such-that-p_0-in-mathcalm">(2) The statistical model <span class="math inline">\(\mathcal{M}\)</span> such that <span class="math inline">\(P_0 \in \mathcal{M}\)</span></a></li>
<li><a href="intro.html#the-statistical-target-parameter-psi-and-estimand-psip_0">(3) The statistical target parameter <span class="math inline">\(\Psi\)</span> and estimand <span class="math inline">\(\Psi(P_0)\)</span></a></li>
<li><a href="intro.html#the-estimator-hatpsi-and-estimate-hatpsip_n">(4) The estimator <span class="math inline">\(\hat{\Psi}\)</span> and estimate <span class="math inline">\(\hat{\Psi}(P_n)\)</span></a></li>
<li><a href="intro.html#a-measure-of-uncertainty-for-the-estimate-hatpsip_n">(5) A measure of uncertainty for the estimate <span class="math inline">\(\hat{\Psi}(P_n)\)</span></a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#summary-of-the-roadmap"><i class="fa fa-check"></i><b>1.4</b> Summary of the Roadmap</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#causal"><i class="fa fa-check"></i><b>1.5</b> Causal Target Parameters</a><ul>
<li class="chapter" data-level="1.5.1" data-path="intro.html"><a href="intro.html#the-causal-model"><i class="fa fa-check"></i><b>1.5.1</b> The Causal Model</a></li>
<li class="chapter" data-level="1.5.2" data-path="intro.html"><a href="intro.html#identifiability"><i class="fa fa-check"></i><b>1.5.2</b> Identifiability</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#the-wash-benefits-example-dataset"><i class="fa fa-check"></i><b>1.6</b> The WASH Benefits Example Dataset</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tlverse.html"><a href="tlverse.html"><i class="fa fa-check"></i><b>2</b> Welcome to the <code>tlverse</code></a><ul>
<li class="chapter" data-level="2.1" data-path="tlverse.html"><a href="tlverse.html#learning-objectives-1"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="tlverse.html"><a href="tlverse.html#what-is-the-tlverse"><i class="fa fa-check"></i><b>2.2</b> What is the <code>tlverse</code>?</a></li>
<li class="chapter" data-level="2.3" data-path="tlverse.html"><a href="tlverse.html#tlverse-components"><i class="fa fa-check"></i><b>2.3</b> <code>tlverse</code> components</a></li>
<li class="chapter" data-level="2.4" data-path="tlverse.html"><a href="tlverse.html#installation"><i class="fa fa-check"></i><b>2.4</b> Installation</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html"><i class="fa fa-check"></i><b>3</b> Ensemble Machine Learning</a><ul>
<li class="chapter" data-level="3.1" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#learning-objectives-2"><i class="fa fa-check"></i><b>3.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#introduction-1"><i class="fa fa-check"></i><b>3.2</b> Introduction</a><ul>
<li class="chapter" data-level="3.2.1" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#background"><i class="fa fa-check"></i><b>3.2.1</b> Background</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#basic-implementation"><i class="fa fa-check"></i><b>3.3</b> Basic Implementation</a><ul>
<li class="chapter" data-level="3.3.1" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#wash-benefits-study-example"><i class="fa fa-check"></i><b>3.3.1</b> WASH Benefits Study Example</a></li>
<li class="chapter" data-level="" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#load-the-necessary-libraries-and-data"><i class="fa fa-check"></i>0. Load the necessary libraries and data</a></li>
<li class="chapter" data-level="" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#define-the-machine-learning-task"><i class="fa fa-check"></i>1. Define the machine learning task</a></li>
<li class="chapter" data-level="" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#make-a-super-learner"><i class="fa fa-check"></i>2. Make a super learner</a></li>
<li class="chapter" data-level="" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#train-the-super-learner-on-the-machine-learning-task"><i class="fa fa-check"></i>3. Train the super learner on the machine learning task</a></li>
<li class="chapter" data-level="" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#obtain-predicted-values"><i class="fa fa-check"></i>4. Obtain predicted values</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#cross-validated-super-learner"><i class="fa fa-check"></i><b>3.4</b> Cross-validated Super Learner</a></li>
<li class="chapter" data-level="3.5" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#variable-importance-measures-with-sl3"><i class="fa fa-check"></i><b>3.5</b> Variable Importance Measures with <code>sl3</code></a></li>
<li class="chapter" data-level="3.6" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#sl3ex1"><i class="fa fa-check"></i><b>3.6</b> Exercise 1 – Predicting Myocardial Infarction with <code>sl3</code></a></li>
<li class="chapter" data-level="3.7" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#super-learning-of-a-conditional-density"><i class="fa fa-check"></i><b>3.7</b> Super Learning of a Conditional Density</a></li>
<li class="chapter" data-level="3.8" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#sl3ex2"><i class="fa fa-check"></i><b>3.8</b> Exercise 2 – Estimating the Propensity Score with <code>sl3</code></a></li>
<li class="chapter" data-level="3.9" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#super-learning-of-an-optimal-individualized-treatment-rule"><i class="fa fa-check"></i><b>3.9</b> Super Learning of an Optimal Individualized Treatment Rule</a></li>
<li class="chapter" data-level="3.10" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#sl3ex3"><i class="fa fa-check"></i><b>3.10</b> Exercise 3 – Estimating the Blip</a></li>
<li class="chapter" data-level="3.11" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#concluding-remarks"><i class="fa fa-check"></i><b>3.11</b> Concluding Remarks</a></li>
<li class="chapter" data-level="3.12" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#appendix"><i class="fa fa-check"></i><b>3.12</b> Appendix</a><ul>
<li class="chapter" data-level="3.12.1" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#exercise-1-solution"><i class="fa fa-check"></i><b>3.12.1</b> Exercise 1 Solution</a></li>
<li class="chapter" data-level="3.12.2" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#exercise-2-solution"><i class="fa fa-check"></i><b>3.12.2</b> Exercise 2 Solution</a></li>
<li class="chapter" data-level="3.12.3" data-path="ensemble-machine-learning.html"><a href="ensemble-machine-learning.html#exercise-3-solution"><i class="fa fa-check"></i><b>3.12.3</b> Exercise 3 Solution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html"><i class="fa fa-check"></i><b>4</b> The TMLE Framework</a><ul>
<li class="chapter" data-level="4.1" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#learning-objectives-3"><i class="fa fa-check"></i><b>4.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#example-tmle3-for-ate"><i class="fa fa-check"></i><b>4.2</b> Example: <code>tmle3</code> for ATE</a><ul>
<li class="chapter" data-level="4.2.1" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#load-the-data"><i class="fa fa-check"></i><b>4.2.1</b> Load the Data</a></li>
<li class="chapter" data-level="4.2.2" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#define-the-variable-roles"><i class="fa fa-check"></i><b>4.2.2</b> Define the variable roles</a></li>
<li class="chapter" data-level="4.2.3" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#handle-missingness"><i class="fa fa-check"></i><b>4.2.3</b> Handle Missingness</a></li>
<li class="chapter" data-level="4.2.4" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#create-a-spec-object"><i class="fa fa-check"></i><b>4.2.4</b> Create a “Spec” Object</a></li>
<li class="chapter" data-level="4.2.5" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#define-the-learners"><i class="fa fa-check"></i><b>4.2.5</b> Define the learners</a></li>
<li class="chapter" data-level="4.2.6" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#fit-the-tmle"><i class="fa fa-check"></i><b>4.2.6</b> Fit the TMLE</a></li>
<li class="chapter" data-level="4.2.7" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#evaluate-the-estimates"><i class="fa fa-check"></i><b>4.2.7</b> Evaluate the Estimates</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#tmle3-components"><i class="fa fa-check"></i><b>4.3</b> <code>tmle3</code> Components</a><ul>
<li class="chapter" data-level="4.3.1" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#tmle3_task"><i class="fa fa-check"></i><b>4.3.1</b> <code>tmle3_task</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#initial-likelihood"><i class="fa fa-check"></i><b>4.3.2</b> Initial Likelihood</a></li>
<li class="chapter" data-level="4.3.3" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#targeted-likelihood-updater"><i class="fa fa-check"></i><b>4.3.3</b> Targeted Likelihood (updater)</a></li>
<li class="chapter" data-level="4.3.4" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#parameter-mapping"><i class="fa fa-check"></i><b>4.3.4</b> Parameter Mapping</a></li>
<li class="chapter" data-level="4.3.5" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#putting-it-all-together"><i class="fa fa-check"></i><b>4.3.5</b> Putting it all together</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#fitting-tmle3-with-multiple-parameters"><i class="fa fa-check"></i><b>4.4</b> Fitting <code>tmle3</code> with multiple parameters</a><ul>
<li class="chapter" data-level="4.4.1" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#delta-method"><i class="fa fa-check"></i><b>4.4.1</b> Delta Method</a></li>
<li class="chapter" data-level="4.4.2" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#fit"><i class="fa fa-check"></i><b>4.4.2</b> Fit</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#exercise"><i class="fa fa-check"></i><b>4.5</b> Exercise</a></li>
<li class="chapter" data-level="4.6" data-path="the-tmle-framework.html"><a href="the-tmle-framework.html#summary"><i class="fa fa-check"></i><b>4.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r6.html"><a href="r6.html"><i class="fa fa-check"></i><b>5</b> A Primer on the <code>R6</code> Class System</a><ul>
<li class="chapter" data-level="5.1" data-path="r6.html"><a href="r6.html#classes-fields-and-methods"><i class="fa fa-check"></i><b>5.1</b> Classes, Fields, and Methods</a></li>
<li class="chapter" data-level="5.2" data-path="r6.html"><a href="r6.html#object-oriented-programming-python-and-r"><i class="fa fa-check"></i><b>5.2</b> Object Oriented Programming: <code>Python</code> and <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Hitchhiker’s Guide to the <code>tlverse</code></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ensemble-machine-learning" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Ensemble Machine Learning</h1>
<p><em>Rachael Phillips</em></p>
<p>Based on the <a href="https://github.com/tlverse/sl3"><code>sl3</code> <code>R</code> package</a> by <em>Jeremy
Coyle, Nima Hejazi, Ivana Malenica, and Oleg Sofrygin</em>.</p>
<p>Updated: 2019-10-02</p>
<div id="learning-objectives-2" class="section level2">
<h2><span class="header-section-number">3.1</span> Learning Objectives</h2>
<p>By the end of this chapter you will be able to:</p>
<ol style="list-style-type: decimal">
<li>Select a loss function that is appropriate for the functional parameter to be
estimated.</li>
<li>Assemble an ensemble of learners based on the properties that identify what
features they support.</li>
<li>Customize learner hyperparameters to incorporate a diversity of different
settings.</li>
<li>Select a subset of available covariates and pass only those variables to the
modeling algorithm.</li>
<li>Fit an ensemble with nested cross-validation to obtain an estimate of the
performance of the ensemble itself.</li>
<li>Obtain <code>sl3</code> variable importance metrics.</li>
<li>Interpret the discrete and continuous super learner fits.</li>
<li>Rationalize the need to remove bias from the super learner to make an optimal
bias–variance tradeoff for the parameter of interest.</li>
</ol>
</div>
<div id="introduction-1" class="section level2">
<h2><span class="header-section-number">3.2</span> Introduction</h2>
<p>In <a href="intro.html#intro">Chapter 1</a>, we introduced the road map for targeted learning as a
general template to translate real-world data applications into formal
statistical estimation problems. The first steps of this roadmap define the
<em>statistical estimation problem</em>, which establish</p>
<ol style="list-style-type: decimal">
<li>Data as a realization of a random variable, or equivalently, an outcome of a
particular experiment.</li>
<li>A statistical model, representing the true knowledge about the
data-generating experiment.</li>
<li>A translation of the scientific question, which is often causal, into a
target parameter.</li>
</ol>
<p>Note that if the target parameter is causal, step 3 also requires
establishing identifiability of the target quantity from the observed data
distribution, under possible non-testable assumptions that may not necessarily
be reasonable. Still, the target quantity does have a valid statistical
interpretation. See <a href="intro.html#causal">causal target parameters</a> for more detail on
causal models and identifiability.</p>
<p>Now that we have defined the statistical estimation problem, we are ready to
construct the TMLE; an asymptotically linear and efficient substitution
estimator of this target quantity. The first step in this estimation procedure
is an initial estimate of the data-generating distribution, or the relevant part
of this distribution that is needed to evaluate the target parameter. For this
initial estimation, we use the Super Learner <span class="citation">(<span class="citeproc-not-found" data-reference-id="van2007super"><strong>???</strong></span>)</span>. The super learner
provides an important step in creating a robust estimator. It is a
loss-function-based tool that uses cross-validation to obtain the best
prediction of our target parameter, based on a weighted average of a library of
machine learning algorithms. This library of machine learning algorithms
consists of functions (“learners” in the <code>sl3</code> nomenclature) that we think
might be consistent with the true data-generating distribution. The
ensembling of algorithms with weights (“metalearning” in the <code>sl3</code> nomenclature)
has been shown to be adaptive and robust, even in small samples
<span class="citation">(Polley and van der Laan <a href="#ref-polley2010super">2010</a>)</span>. The Super Learner has been proven to be asymptotically as
accurate as the best possible prediction algorithm in the library
<span class="citation">(van der Laan and Dudoit <a href="#ref-vdl2003unified">2003</a>; van der Vaart, Dudoit, and van der Laan <a href="#ref-van2006oracle">2006</a>)</span>.</p>
<div id="background" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Background</h3>
<p>A <em>loss function</em> <span class="math inline">\(L\)</span> is defined as a function of the observed data and a
candidate parameter value <span class="math inline">\(\psi\)</span>, which has unknown true value <span class="math inline">\(\psi_0\)</span>,
<span class="math inline">\(L(\psi)(O)\)</span>. We can estimate the loss by substituting the empirical
distribution <span class="math inline">\(P_n\)</span> for the true (but unknown) distribution of the observed data
<span class="math inline">\(P_0\)</span>. A valid loss function will have expectation (risk) that is minimized at
the true value of the parameter <span class="math inline">\(\psi_0\)</span>. For example, the conditional mean
minimizes the risk of the squared error loss. Thus, it is a valid loss function
when estimating the conditional mean.</p>
<p>The <em>discrete super learner</em>, or <em>cross-validation selector</em>, is the algorithm
in the library that minimizes the cross-validated empirical risk. The
cross-validated empirical risk of an algorithm is defined as the empirical mean
over a validation sample of the loss of the algorithm fitted on the training
sample, averaged across the splits of the data.</p>
<p>The <em>continuous/ensemble super learner</em> is a weighted average of the library of
algorithms, where the weights are chosen to minimize the cross-validated
empirical risk of the library. Restricting the weights to be positive and sum to
one (i.e., a convex combination) has been shown to improve upon the discrete
super learner <span class="citation">(Polley and van der Laan <a href="#ref-polley2010super">2010</a>; <span class="citeproc-not-found" data-reference-id="van2007super"><strong>???</strong></span>)</span>. This notion of weighted
combinations was introduced in <span class="citation">Wolpert (<a href="#ref-wolpert1992stacked">1992</a>)</span> for neural networks and
adapted for regressions in <span class="citation">Breiman (<a href="#ref-breiman1996stacked">1996</a>)</span>.</p>
<!--
The *oracle results* prove that, if the number of algorithms in the library are
polynomial in sample size, then the cross-validation selector (i.e., discrete
super learner) (1) is equivalent with the oracle selector asymptotically (based
on sample of size of training samples), or (2) achieves the parametric rate (log
$n/n$) for convergence with respect to the loss-based dissimilarity (risk)
between a candidate estimate $\psi$ and the true parameter value $\psi_0$.
-->
<p>For more detail on super learner we refer the reader to <span class="citation">(<span class="citeproc-not-found" data-reference-id="van2007super"><strong>???</strong></span>)</span> and
<span class="citation">Polley and van der Laan (<a href="#ref-polley2010super">2010</a>)</span>. The optimality results for the cross-validation selector
among a family of algorithms were established in <span class="citation">van der Laan and Dudoit (<a href="#ref-vdl2003unified">2003</a>)</span> and extended
in <span class="citation">van der Vaart, Dudoit, and van der Laan (<a href="#ref-van2006oracle">2006</a>)</span>.</p>
</div>
</div>
<div id="basic-implementation" class="section level2">
<h2><span class="header-section-number">3.3</span> Basic Implementation</h2>
<p>We begin by illustrating the basic functionality of the Super Learner
algorithm as implemented in <code>sl3</code>. The <code>sl3</code> implementation consists of the
following steps:</p>
<ol start="0" style="list-style-type: decimal">
<li>Load the necessary libraries and data</li>
<li>Define the machine learning task</li>
<li>Make a super learner by creating library of base learners and a metalearner</li>
<li>Train the super learner on the machine learning task</li>
<li>Obtain predicted values</li>
</ol>
<div id="wash-benefits-study-example" class="section level3">
<h3><span class="header-section-number">3.3.1</span> WASH Benefits Study Example</h3>
<p>Using the WASH data, we are interested in predicting weight-for-height z-score
<code>whz</code> using the available covariate data. Let’s begin!</p>
</div>
<div id="load-the-necessary-libraries-and-data" class="section level3 unnumbered">
<h3>0. Load the necessary libraries and data</h3>
<p>First, we will load the relevant <code>R</code> packages, set a seed, and load the data.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">library</span>(here)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw">library</span>(data.table)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="kw">library</span>(knitr)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="kw">library</span>(kableExtra)</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="kw">library</span>(origami)</a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="kw">library</span>(SuperLearner)</a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="kw">library</span>(sl3)</a>
<a class="sourceLine" id="cb7-9" data-line-number="9"></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="kw">set.seed</span>(<span class="dv">7194</span>)</a>
<a class="sourceLine" id="cb7-11" data-line-number="11"></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co"># load data set and take a peek</span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13">washb_data &lt;-<span class="st"> </span><span class="kw">fread</span>(<span class="st">&quot;https://raw.githubusercontent.com/tlverse/tlverse-data/master/wash-benefits/washb_data.csv&quot;</span>,</a>
<a class="sourceLine" id="cb7-14" data-line-number="14">                    <span class="dt">stringsAsFactors =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="kw">head</span>(washb_data) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16"><span class="st">  </span><span class="kw">kable</span>(<span class="dt">digits =</span> <span class="dv">4</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-17" data-line-number="17"><span class="st">  </span>kableExtra<span class="op">:::</span><span class="kw">kable_styling</span>(<span class="dt">fixed_thead =</span> T) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-18" data-line-number="18"><span class="st">  </span><span class="kw">scroll_box</span>(<span class="dt">width =</span> <span class="st">&quot;100%&quot;</span>, <span class="dt">height =</span> <span class="st">&quot;300px&quot;</span>)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
whz
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
tr
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
fracode
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
month
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
aged
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
sex
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
momage
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
momedu
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
momheight
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
hfiacat
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
Nlt18
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
Ncomp
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
watmin
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
elec
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
floor
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
walls
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
roof
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
asset_wardrobe
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
asset_table
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
asset_chair
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
asset_khat
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
asset_chouki
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
asset_tv
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
asset_refrig
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
asset_bike
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
asset_moto
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
asset_sewmach
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
asset_mobile
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:left;">
Control
</td>
<td style="text-align:left;">
N05265
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
268
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:left;">
Primary (1-5y)
</td>
<td style="text-align:right;">
146.40
</td>
<td style="text-align:left;">
Food Secure
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
-1.16
</td>
<td style="text-align:left;">
Control
</td>
<td style="text-align:left;">
N05265
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
286
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:left;">
Primary (1-5y)
</td>
<td style="text-align:right;">
148.75
</td>
<td style="text-align:left;">
Moderately Food Insecure
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
-1.05
</td>
<td style="text-align:left;">
Control
</td>
<td style="text-align:left;">
N08002
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
264
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:left;">
Primary (1-5y)
</td>
<td style="text-align:right;">
152.15
</td>
<td style="text-align:left;">
Food Secure
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
-1.26
</td>
<td style="text-align:left;">
Control
</td>
<td style="text-align:left;">
N08002
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
252
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:left;">
Primary (1-5y)
</td>
<td style="text-align:right;">
140.25
</td>
<td style="text-align:left;">
Food Secure
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
-0.59
</td>
<td style="text-align:left;">
Control
</td>
<td style="text-align:left;">
N06531
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
336
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:left;">
Secondary (&gt;5y)
</td>
<td style="text-align:right;">
150.95
</td>
<td style="text-align:left;">
Food Secure
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
-0.51
</td>
<td style="text-align:left;">
Control
</td>
<td style="text-align:left;">
N06531
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
304
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
Secondary (&gt;5y)
</td>
<td style="text-align:right;">
154.20
</td>
<td style="text-align:left;">
Severely Food Insecure
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="define-the-machine-learning-task" class="section level3 unnumbered">
<h3>1. Define the machine learning task</h3>
<p>To define the machine learning <strong>“task”</strong> (predict weight-for-height z-score <code>whz</code>
using the available covariate data), we need to create an <code>sl3_Task</code> object. The
<code>sl3_Task</code> keeps track of the roles the variables play in the machine learning
problem, the data, and any metadata (e.g., observational-level weights, id,
offset).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># specify the outcome and covariates</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">outcome &lt;-<span class="st"> &quot;whz&quot;</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">covars &lt;-<span class="st"> </span><span class="kw">colnames</span>(washb_data)[<span class="op">-</span><span class="kw">which</span>(<span class="kw">names</span>(washb_data) <span class="op">==</span><span class="st"> </span>outcome)]</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co"># create the sl3 task</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6">washb_task &lt;-<span class="st"> </span><span class="kw">make_sl3_Task</span>(</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">  <span class="dt">data =</span> washb_data,</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">  <span class="dt">covariates =</span> covars,</a>
<a class="sourceLine" id="cb8-9" data-line-number="9">  <span class="dt">outcome =</span> outcome</a>
<a class="sourceLine" id="cb8-10" data-line-number="10">)</a></code></pre></div>
<pre><code>Warning in .subset2(public_bind_env, &quot;initialize&quot;)(...): Missing Covariate Data
Found. Imputing covariates using sl3_process_missing.</code></pre>
<p>This warning is important. The task just imputed missing covariates for us.
Specifically, for each covariate column with missing values, <code>sl3</code> uses the
median to impute missing continuous covariates, and the mode to impute binary or
categorical covariates. Also, for each covariate column with missing values,
<code>sl3</code> adds an additional column indicating whether or not the value was imputed,
which is particularly handy when the missingness in the data might be
informative.</p>
<p>Also, notice that we did not specify the number of folds, or the loss function
in the task. The default cross-validation scheme is V-fold, with the number of
folds <span class="math inline">\(V=10\)</span>.</p>
<p>Let’s visualize our <code>washb_task</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">washb_task</a></code></pre></div>
<pre><code>A sl3 Task with 4695 obs and these nodes:
$covariates
 [1] &quot;tr&quot;              &quot;fracode&quot;         &quot;month&quot;           &quot;aged&quot;           
 [5] &quot;sex&quot;             &quot;momage&quot;          &quot;momedu&quot;          &quot;momheight&quot;      
 [9] &quot;hfiacat&quot;         &quot;Nlt18&quot;           &quot;Ncomp&quot;           &quot;watmin&quot;         
[13] &quot;elec&quot;            &quot;floor&quot;           &quot;walls&quot;           &quot;roof&quot;           
[17] &quot;asset_wardrobe&quot;  &quot;asset_table&quot;     &quot;asset_chair&quot;     &quot;asset_khat&quot;     
[21] &quot;asset_chouki&quot;    &quot;asset_tv&quot;        &quot;asset_refrig&quot;    &quot;asset_bike&quot;     
[25] &quot;asset_moto&quot;      &quot;asset_sewmach&quot;   &quot;asset_mobile&quot;    &quot;delta_momage&quot;   
[29] &quot;delta_momheight&quot;

$outcome
[1] &quot;whz&quot;

$id
NULL

$weights
NULL

$offset
NULL</code></pre>
</div>
<div id="make-a-super-learner" class="section level3 unnumbered">
<h3>2. Make a super learner</h3>
<p>Now that we have defined our machine learning problem with the task, we are
ready to <strong>“make”</strong> the super learner. This requires specification of</p>
<ul>
<li>A library of base learning algorithms that we think might be consistent with
the true data-generating distribution.</li>
<li>A metalearner, to ensemble the base learners.</li>
</ul>
<p>We might also incorporate</p>
<ul>
<li>Feature selection, to pass only a subset of the predictors to the algorithm.</li>
<li>Hyperparameter specification, to tune base learners.</li>
</ul>
<p>Learners have properties that indicate what features they support. We may use
<code>sl3_list_properties()</code> to get a list of all properties supported by at least
one learner.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">sl3_list_properties</span>()</a></code></pre></div>
<pre><code> [1] &quot;binomial&quot;             &quot;categorical&quot;          &quot;continuous&quot;          
 [4] &quot;cv&quot;                   &quot;density&quot;              &quot;ids&quot;                 
 [7] &quot;multivariate_outcome&quot; &quot;offset&quot;               &quot;preprocessing&quot;       
[10] &quot;timeseries&quot;           &quot;weights&quot;              &quot;wrapper&quot;             </code></pre>
<p>Since we have a continuous outcome, we may identify the learners that support
this outcome type with <code>sl3_list_learners()</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">sl3_list_learners</span>(<span class="st">&quot;continuous&quot;</span>)</a></code></pre></div>
<pre><code> [1] &quot;Lrnr_arima&quot;                     &quot;Lrnr_bartMachine&quot;              
 [3] &quot;Lrnr_bilstm&quot;                    &quot;Lrnr_condensier&quot;               
 [5] &quot;Lrnr_dbarts&quot;                    &quot;Lrnr_earth&quot;                    
 [7] &quot;Lrnr_expSmooth&quot;                 &quot;Lrnr_gbm&quot;                      
 [9] &quot;Lrnr_glm&quot;                       &quot;Lrnr_glm_fast&quot;                 
[11] &quot;Lrnr_glmnet&quot;                    &quot;Lrnr_grf&quot;                      
[13] &quot;Lrnr_h2o_glm&quot;                   &quot;Lrnr_h2o_grid&quot;                 
[15] &quot;Lrnr_hal9001&quot;                   &quot;Lrnr_HarmonicReg&quot;              
[17] &quot;Lrnr_lstm&quot;                      &quot;Lrnr_mean&quot;                     
[19] &quot;Lrnr_nnls&quot;                      &quot;Lrnr_optim&quot;                    
[21] &quot;Lrnr_pkg_SuperLearner&quot;          &quot;Lrnr_pkg_SuperLearner_method&quot;  
[23] &quot;Lrnr_pkg_SuperLearner_screener&quot; &quot;Lrnr_polspline&quot;                
[25] &quot;Lrnr_randomForest&quot;              &quot;Lrnr_ranger&quot;                   
[27] &quot;Lrnr_rpart&quot;                     &quot;Lrnr_rugarch&quot;                  
[29] &quot;Lrnr_solnp&quot;                     &quot;Lrnr_stratified&quot;               
[31] &quot;Lrnr_svm&quot;                       &quot;Lrnr_tsDyn&quot;                    
[33] &quot;Lrnr_xgboost&quot;                  </code></pre>
<p>Now that we have an idea of some learners, we can construct them using the
<code>make_learner</code> function.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="co"># choose base learners</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2">lrnr_glm &lt;-<span class="st"> </span><span class="kw">make_learner</span>(Lrnr_glm)</a>
<a class="sourceLine" id="cb16-3" data-line-number="3">lrnr_mean &lt;-<span class="st"> </span><span class="kw">make_learner</span>(Lrnr_mean)</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">lrnr_glmnet &lt;-<span class="st"> </span><span class="kw">make_learner</span>(Lrnr_glmnet)</a></code></pre></div>
<p>We can customize learner hyperparameters to incorporate a diversity of different
settings.</p>
<p>Documentation for the learners and their hyperparameters can be found
in the <a href="https://tlverse.org/sl3/reference/index.html#section-sl-learners"><code>sl3</code> Learners
Reference</a>.</p>
<p>We can also include learners from the <a href="https://github.com/ecpolley/superlearner"><code>SuperLearner</code> <code>R</code>
package</a>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">lrnr_ranger100 &lt;-<span class="st"> </span><span class="kw">make_learner</span>(Lrnr_ranger, <span class="dt">num.trees =</span> <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2">lrnr_hal_simple &lt;-<span class="st"> </span><span class="kw">make_learner</span>(Lrnr_hal9001, <span class="dt">degrees =</span> <span class="dv">1</span>, <span class="dt">n_folds =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb17-3" data-line-number="3">lrnr_gam &lt;-<span class="st"> </span>Lrnr_pkg_SuperLearner<span class="op">$</span><span class="kw">new</span>(<span class="st">&quot;SL.gam&quot;</span>)</a>
<a class="sourceLine" id="cb17-4" data-line-number="4">lrnr_bayesglm &lt;-<span class="st"> </span>Lrnr_pkg_SuperLearner<span class="op">$</span><span class="kw">new</span>(<span class="st">&quot;SL.bayesglm&quot;</span>)</a></code></pre></div>
<p><em>Are you interested in creating a new base learning algorithm?</em> If so,
instructions are provided in <a href="https://tlverse.org/sl3/articles/custom_lrnrs.html">Defining New <code>sl3</code>
Learners</a>.</p>
<p>In order to assemble the library of learners, we need to <strong>“stack”</strong> them
together. A <code>Stack</code> is a special learner and it has the same interface as all
other learners. What makes a stack special is that it combines multiple learners
by training them simultaneously, so that their predictions can be either
combined or compared.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">stack &lt;-<span class="st"> </span><span class="kw">make_learner</span>(</a>
<a class="sourceLine" id="cb18-2" data-line-number="2">  Stack,</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">  lrnr_glm, lrnr_mean, lrnr_ranger100, lrnr_glmnet,</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">  lrnr_gam, lrnr_bayesglm</a>
<a class="sourceLine" id="cb18-5" data-line-number="5">)</a></code></pre></div>
<p>We will fit a non-negative least squares metalearner using <code>Lrnr_nnls</code>. Note
that any learner can be used as a metalearner. <code>Lrnr_nnls</code> is a solid choice
for a metalearner, since it creates a convex combination of the learners when
combining them. To</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">metalearner &lt;-<span class="st"> </span><span class="kw">make_learner</span>(Lrnr_nnls)</a></code></pre></div>
<p>We can optionally select a subset of available covariates and pass only
those variables to the modeling algorithm.</p>
<p>Let’s consider screening covariates based on their correlation with our outcome
of interest (<code>cor.test</code> p-value <span class="math inline">\(\leq 0.1\)</span>).</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">screen_cor &lt;-<span class="st"> </span>Lrnr_pkg_SuperLearner_screener<span class="op">$</span><span class="kw">new</span>(<span class="st">&quot;screen.corP&quot;</span>)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="co"># which covariates are selected on the full data?</span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3">screen_cor<span class="op">$</span><span class="kw">train</span>(washb_task)</a></code></pre></div>
<pre><code>Warning: `lang_tail()` is deprecated as of rlang 0.2.0.
This warning is displayed once per session.</code></pre>
<pre><code>Warning: `mut_node_cdr()` is deprecated as of rlang 0.2.0.
This warning is displayed once per session.</code></pre>
<pre><code>[1] &quot;Lrnr_pkg_SuperLearner_screener_screen.corP&quot;
$selected
 [1] &quot;tr&quot;             &quot;fracode&quot;        &quot;aged&quot;           &quot;momage&quot;        
 [5] &quot;momedu&quot;         &quot;momheight&quot;      &quot;hfiacat&quot;        &quot;Nlt18&quot;         
 [9] &quot;elec&quot;           &quot;floor&quot;          &quot;walls&quot;          &quot;asset_wardrobe&quot;
[13] &quot;asset_table&quot;    &quot;asset_chair&quot;    &quot;asset_khat&quot;     &quot;asset_chouki&quot;  
[17] &quot;asset_tv&quot;       &quot;asset_refrig&quot;   &quot;asset_moto&quot;     &quot;asset_sewmach&quot; 
[21] &quot;asset_mobile&quot;  </code></pre>
<p>To <strong>“pipe”</strong> only the selected covariates to the modeling algorithm, we need to
make a <code>Pipeline</code>, which is a just set of learners to be fit sequentially, where
the fit from one learner is used to define the task for the next learner. Note
the difference between <code>Pipeline</code> and <code>Stack</code> here- one is necessary in order
to define a sequential process, whereas the other one establishes parallel
function of learners.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">cor_pipeline &lt;-<span class="st"> </span><span class="kw">make_learner</span>(Pipeline, screen_cor, stack)</a></code></pre></div>
<p>Now our learners will be preceded by a screening step.</p>
<p>We also consider the original <code>stack</code>, just to compare how the feature selection
methods perform in comparison to the methods without feature selection.</p>
<p>Analogous to what we have seen before, we have to stack the pipeline and
original <code>stack</code> together, so we may use them as base learners in our super
learner.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">fancy_stack &lt;-<span class="st"> </span><span class="kw">make_learner</span>(Stack, cor_pipeline, stack)</a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="co"># we can visualize the stack</span></a>
<a class="sourceLine" id="cb25-3" data-line-number="3">dt_stack &lt;-<span class="st"> </span><span class="kw">delayed_learner_train</span>(fancy_stack, washb_task)</a>
<a class="sourceLine" id="cb25-4" data-line-number="4"><span class="kw">plot</span>(dt_stack, <span class="dt">color =</span> <span class="ot">FALSE</span>, <span class="dt">height =</span> <span class="st">&quot;400px&quot;</span>, <span class="dt">width =</span> <span class="st">&quot;100%&quot;</span>)</a></code></pre></div>
<p><div id="htmlwidget-ac63700e2efbcefb9700" style="width:100%;height:400px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-ac63700e2efbcefb9700">{"x":{"nodes":{"id":["6ebee0e6-e4c2-11e9-a389-42010a14013c","6ebeccb4-e4c2-11e9-a389-42010a14013c","6ebe0266-e4c2-11e9-a389-42010a14013c","6ebde998-e4c2-11e9-a389-42010a14013c","6ebcb7da-e4c2-11e9-a389-42010a14013c","6ebdbe14-e4c2-11e9-a389-42010a14013c","6ebcecc8-e4c2-11e9-a389-42010a14013c","6ebda816-e4c2-11e9-a389-42010a14013c","6ebd15a4-e4c2-11e9-a389-42010a14013c","6ebd2efe-e4c2-11e9-a389-42010a14013c","6ebd4664-e4c2-11e9-a389-42010a14013c","6ebd607c-e4c2-11e9-a389-42010a14013c","6ebd7760-e4c2-11e9-a389-42010a14013c","6ebd8cb4-e4c2-11e9-a389-42010a14013c","6ebeb6f2-e4c2-11e9-a389-42010a14013c","6ebea040-e4c2-11e9-a389-42010a14013c","6ebe1e90-e4c2-11e9-a389-42010a14013c","6ebe340c-e4c2-11e9-a389-42010a14013c","6ebe4a28-e4c2-11e9-a389-42010a14013c","6ebe5f68-e4c2-11e9-a389-42010a14013c","6ebe7430-e4c2-11e9-a389-42010a14013c","6ebe895c-e4c2-11e9-a389-42010a14013c"],"label":["Stack","bundle","Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP->Stack)","bundle","Lrnr_pkg_SuperLearner_screener_screen.corP","Stack","chain","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm"],"level":[1,2,3,4,9,5,8,6,7,7,7,7,7,7,3,4,5,5,5,5,5,5],"sequential":[true,true,true,true,false,true,true,true,false,false,false,false,false,false,true,true,false,false,false,false,false,false],"state":["waiting","waiting","waiting","waiting","ready","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","ready","ready","ready","ready","ready"],"group":["none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none"]},"edges":{"from":["6ebcb7da-e4c2-11e9-a389-42010a14013c","6ebcb7da-e4c2-11e9-a389-42010a14013c","6ebcecc8-e4c2-11e9-a389-42010a14013c","6ebcecc8-e4c2-11e9-a389-42010a14013c","6ebd15a4-e4c2-11e9-a389-42010a14013c","6ebcecc8-e4c2-11e9-a389-42010a14013c","6ebd2efe-e4c2-11e9-a389-42010a14013c","6ebcecc8-e4c2-11e9-a389-42010a14013c","6ebd4664-e4c2-11e9-a389-42010a14013c","6ebcecc8-e4c2-11e9-a389-42010a14013c","6ebd607c-e4c2-11e9-a389-42010a14013c","6ebcecc8-e4c2-11e9-a389-42010a14013c","6ebd7760-e4c2-11e9-a389-42010a14013c","6ebcecc8-e4c2-11e9-a389-42010a14013c","6ebd8cb4-e4c2-11e9-a389-42010a14013c","6ebda816-e4c2-11e9-a389-42010a14013c","6ebdbe14-e4c2-11e9-a389-42010a14013c","6ebde998-e4c2-11e9-a389-42010a14013c","6ebe0266-e4c2-11e9-a389-42010a14013c","6ebe1e90-e4c2-11e9-a389-42010a14013c","6ebe340c-e4c2-11e9-a389-42010a14013c","6ebe4a28-e4c2-11e9-a389-42010a14013c","6ebe5f68-e4c2-11e9-a389-42010a14013c","6ebe7430-e4c2-11e9-a389-42010a14013c","6ebe895c-e4c2-11e9-a389-42010a14013c","6ebea040-e4c2-11e9-a389-42010a14013c","6ebeb6f2-e4c2-11e9-a389-42010a14013c","6ebeccb4-e4c2-11e9-a389-42010a14013c"],"to":["6ebde998-e4c2-11e9-a389-42010a14013c","6ebcecc8-e4c2-11e9-a389-42010a14013c","6ebdbe14-e4c2-11e9-a389-42010a14013c","6ebd15a4-e4c2-11e9-a389-42010a14013c","6ebda816-e4c2-11e9-a389-42010a14013c","6ebd2efe-e4c2-11e9-a389-42010a14013c","6ebda816-e4c2-11e9-a389-42010a14013c","6ebd4664-e4c2-11e9-a389-42010a14013c","6ebda816-e4c2-11e9-a389-42010a14013c","6ebd607c-e4c2-11e9-a389-42010a14013c","6ebda816-e4c2-11e9-a389-42010a14013c","6ebd7760-e4c2-11e9-a389-42010a14013c","6ebda816-e4c2-11e9-a389-42010a14013c","6ebd8cb4-e4c2-11e9-a389-42010a14013c","6ebda816-e4c2-11e9-a389-42010a14013c","6ebdbe14-e4c2-11e9-a389-42010a14013c","6ebde998-e4c2-11e9-a389-42010a14013c","6ebe0266-e4c2-11e9-a389-42010a14013c","6ebeccb4-e4c2-11e9-a389-42010a14013c","6ebea040-e4c2-11e9-a389-42010a14013c","6ebea040-e4c2-11e9-a389-42010a14013c","6ebea040-e4c2-11e9-a389-42010a14013c","6ebea040-e4c2-11e9-a389-42010a14013c","6ebea040-e4c2-11e9-a389-42010a14013c","6ebea040-e4c2-11e9-a389-42010a14013c","6ebeb6f2-e4c2-11e9-a389-42010a14013c","6ebeccb4-e4c2-11e9-a389-42010a14013c","6ebee0e6-e4c2-11e9-a389-42010a14013c"],"label":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"edges":{"arrows":"to"},"layout":{"hierarchical":{"enabled":true,"levelSeparation":500,"nodeSpacing":200,"direction":"RL"}},"groups":{"useDefaultGroups":true,"none":{"color":{"border":"black","background":"white"}}}},"groups":["none"],"width":"100%","height":"400px","idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script>
In the above plot, we visualize the super learner, which we can see has 10
realizations of the stack and a separate hold-out (the top branch of the figure)
that will not be used to fit the super learner.
<!-- Explain more!!!! --></p>
<p>We have made a library/stack of base learners and a metalearner, so we
are ready to make the super learner. The super learner algorithm fits a
metalearner on the validation-set predictions.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">sl &lt;-<span class="st"> </span><span class="kw">make_learner</span>(Lrnr_sl,</a>
<a class="sourceLine" id="cb26-2" data-line-number="2">  <span class="dt">learners =</span> fancy_stack,</a>
<a class="sourceLine" id="cb26-3" data-line-number="3">  <span class="dt">metalearner =</span> metalearner</a>
<a class="sourceLine" id="cb26-4" data-line-number="4">)</a>
<a class="sourceLine" id="cb26-5" data-line-number="5"><span class="co"># we can visualize the super learner</span></a>
<a class="sourceLine" id="cb26-6" data-line-number="6">dt_sl &lt;-<span class="st"> </span><span class="kw">delayed_learner_train</span>(sl, washb_task)</a>
<a class="sourceLine" id="cb26-7" data-line-number="7"><span class="kw">plot</span>(dt_sl, <span class="dt">color =</span> <span class="ot">FALSE</span>, <span class="dt">height =</span> <span class="st">&quot;400px&quot;</span>, <span class="dt">width =</span> <span class="st">&quot;100%&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-62a347e481e519ec0e19" style="width:100%;height:400px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-62a347e481e519ec0e19">{"x":{"nodes":{"id":["6eff58d8-e4c2-11e9-a389-42010a14013c","6eff4370-e4c2-11e9-a389-42010a14013c","6eff0630-e4c2-11e9-a389-42010a14013c","6efef2bc-e4c2-11e9-a389-42010a14013c","6ed39b94-e4c2-11e9-a389-42010a14013c","6ed38618-e4c2-11e9-a389-42010a14013c","6ed2c156-e4c2-11e9-a389-42010a14013c","6ed2aa68-e4c2-11e9-a389-42010a14013c","6ed1b446-e4c2-11e9-a389-42010a14013c","6ed28060-e4c2-11e9-a389-42010a14013c","6ed1ca12-e4c2-11e9-a389-42010a14013c","6ed26aa8-e4c2-11e9-a389-42010a14013c","6ed1e506-e4c2-11e9-a389-42010a14013c","6ed1fb9a-e4c2-11e9-a389-42010a14013c","6ed21148-e4c2-11e9-a389-42010a14013c","6ed229da-e4c2-11e9-a389-42010a14013c","6ed23f88-e4c2-11e9-a389-42010a14013c","6ed25630-e4c2-11e9-a389-42010a14013c","6ed37164-e4c2-11e9-a389-42010a14013c","6ed35a1c-e4c2-11e9-a389-42010a14013c","6ed2dcf4-e4c2-11e9-a389-42010a14013c","6ed2f25c-e4c2-11e9-a389-42010a14013c","6ed3071a-e4c2-11e9-a389-42010a14013c","6ed31b88-e4c2-11e9-a389-42010a14013c","6ed32f9c-e4c2-11e9-a389-42010a14013c","6ed343d8-e4c2-11e9-a389-42010a14013c","6efedc14-e4c2-11e9-a389-42010a14013c","6ee797e8-e4c2-11e9-a389-42010a14013c","6ee783e8-e4c2-11e9-a389-42010a14013c","6ee6be90-e4c2-11e9-a389-42010a14013c","6ee6a75c-e4c2-11e9-a389-42010a14013c","6ee5acbc-e4c2-11e9-a389-42010a14013c","6ee67d4a-e4c2-11e9-a389-42010a14013c","6ee5c5c6-e4c2-11e9-a389-42010a14013c","6ee666ca-e4c2-11e9-a389-42010a14013c","6ee5dcaa-e4c2-11e9-a389-42010a14013c","6ee5f6b8-e4c2-11e9-a389-42010a14013c","6ee60e14-e4c2-11e9-a389-42010a14013c","6ee6246c-e4c2-11e9-a389-42010a14013c","6ee63ad8-e4c2-11e9-a389-42010a14013c","6ee650f4-e4c2-11e9-a389-42010a14013c","6ee76da4-e4c2-11e9-a389-42010a14013c","6ee75774-e4c2-11e9-a389-42010a14013c","6ee6da4c-e4c2-11e9-a389-42010a14013c","6ee6f09a-e4c2-11e9-a389-42010a14013c","6ee70508-e4c2-11e9-a389-42010a14013c","6ee71912-e4c2-11e9-a389-42010a14013c","6ee72da8-e4c2-11e9-a389-42010a14013c","6ee742c0-e4c2-11e9-a389-42010a14013c","6eea3ebc-e4c2-11e9-a389-42010a14013c","6eea2a1c-e4c2-11e9-a389-42010a14013c","6ee96190-e4c2-11e9-a389-42010a14013c","6ee94ae8-e4c2-11e9-a389-42010a14013c","6ee856e2-e4c2-11e9-a389-42010a14013c","6ee91f78-e4c2-11e9-a389-42010a14013c","6ee86d26-e4c2-11e9-a389-42010a14013c","6ee9081c-e4c2-11e9-a389-42010a14013c","6ee8831a-e4c2-11e9-a389-42010a14013c","6ee8999a-e4c2-11e9-a389-42010a14013c","6ee8af66-e4c2-11e9-a389-42010a14013c","6ee8c6e0-e4c2-11e9-a389-42010a14013c","6ee8dc8e-e4c2-11e9-a389-42010a14013c","6ee8f250-e4c2-11e9-a389-42010a14013c","6eea152c-e4c2-11e9-a389-42010a14013c","6ee9fed4-e4c2-11e9-a389-42010a14013c","6ee97dec-e4c2-11e9-a389-42010a14013c","6ee994a8-e4c2-11e9-a389-42010a14013c","6ee9a9ca-e4c2-11e9-a389-42010a14013c","6ee9bef6-e4c2-11e9-a389-42010a14013c","6ee9d3fa-e4c2-11e9-a389-42010a14013c","6ee9ea0c-e4c2-11e9-a389-42010a14013c","6eecd19a-e4c2-11e9-a389-42010a14013c","6eecbe12-e4c2-11e9-a389-42010a14013c","6eebff54-e4c2-11e9-a389-42010a14013c","6eebeb18-e4c2-11e9-a389-42010a14013c","6eeafd84-e4c2-11e9-a389-42010a14013c","6eebc264-e4c2-11e9-a389-42010a14013c","6eeb117a-e4c2-11e9-a389-42010a14013c","6eebab62-e4c2-11e9-a389-42010a14013c","6eeb298a-e4c2-11e9-a389-42010a14013c","6eeb3fd8-e4c2-11e9-a389-42010a14013c","6eeb569e-e4c2-11e9-a389-42010a14013c","6eeb6c74-e4c2-11e9-a389-42010a14013c","6eeb81aa-e4c2-11e9-a389-42010a14013c","6eeb973a-e4c2-11e9-a389-42010a14013c","6eeca9cc-e4c2-11e9-a389-42010a14013c","6eec9432-e4c2-11e9-a389-42010a14013c","6eec1944-e4c2-11e9-a389-42010a14013c","6eec2d9e-e4c2-11e9-a389-42010a14013c","6eec427a-e4c2-11e9-a389-42010a14013c","6eec56e8-e4c2-11e9-a389-42010a14013c","6eec6c5a-e4c2-11e9-a389-42010a14013c","6eec80be-e4c2-11e9-a389-42010a14013c","6eef616c-e4c2-11e9-a389-42010a14013c","6eef4d6c-e4c2-11e9-a389-42010a14013c","6eee9002-e4c2-11e9-a389-42010a14013c","6eee7c70-e4c2-11e9-a389-42010a14013c","6eed8cc0-e4c2-11e9-a389-42010a14013c","6eee5448-e4c2-11e9-a389-42010a14013c","6eeda624-e4c2-11e9-a389-42010a14013c","6eee3ec2-e4c2-11e9-a389-42010a14013c","6eedbccc-e4c2-11e9-a389-42010a14013c","6eedd2f2-e4c2-11e9-a389-42010a14013c","6eede85a-e4c2-11e9-a389-42010a14013c","6eedfd90-e4c2-11e9-a389-42010a14013c","6eee1398-e4c2-11e9-a389-42010a14013c","6eee28c4-e4c2-11e9-a389-42010a14013c","6eef3872-e4c2-11e9-a389-42010a14013c","6eef2378-e4c2-11e9-a389-42010a14013c","6eeea98e-e4c2-11e9-a389-42010a14013c","6eeebd20-e4c2-11e9-a389-42010a14013c","6eeed300-e4c2-11e9-a389-42010a14013c","6eeee732-e4c2-11e9-a389-42010a14013c","6eeefb3c-e4c2-11e9-a389-42010a14013c","6eef0fa0-e4c2-11e9-a389-42010a14013c","6ef1f30a-e4c2-11e9-a389-42010a14013c","6ef1dbf4-e4c2-11e9-a389-42010a14013c","6ef11aac-e4c2-11e9-a389-42010a14013c","6ef1065c-e4c2-11e9-a389-42010a14013c","6ef01d96-e4c2-11e9-a389-42010a14013c","6ef0ddc6-e4c2-11e9-a389-42010a14013c","6ef03164-e4c2-11e9-a389-42010a14013c","6ef0c7b4-e4c2-11e9-a389-42010a14013c","6ef046fe-e4c2-11e9-a389-42010a14013c","6ef05d24-e4c2-11e9-a389-42010a14013c","6ef07264-e4c2-11e9-a389-42010a14013c","6ef08786-e4c2-11e9-a389-42010a14013c","6ef09c9e-e4c2-11e9-a389-42010a14013c","6ef0b2ec-e4c2-11e9-a389-42010a14013c","6ef1c59c-e4c2-11e9-a389-42010a14013c","6ef1afee-e4c2-11e9-a389-42010a14013c","6ef13550-e4c2-11e9-a389-42010a14013c","6ef14b3a-e4c2-11e9-a389-42010a14013c","6ef15fee-e4c2-11e9-a389-42010a14013c","6ef17402-e4c2-11e9-a389-42010a14013c","6ef18820-e4c2-11e9-a389-42010a14013c","6ef19c2a-e4c2-11e9-a389-42010a14013c","6ef48da4-e4c2-11e9-a389-42010a14013c","6ef478f0-e4c2-11e9-a389-42010a14013c","6ef3b6fe-e4c2-11e9-a389-42010a14013c","6ef3a0b0-e4c2-11e9-a389-42010a14013c","6ef2b2e0-e4c2-11e9-a389-42010a14013c","6ef378f6-e4c2-11e9-a389-42010a14013c","6ef2c69a-e4c2-11e9-a389-42010a14013c","6ef3641a-e4c2-11e9-a389-42010a14013c","6ef2dc48-e4c2-11e9-a389-42010a14013c","6ef2f688-e4c2-11e9-a389-42010a14013c","6ef30cb8-e4c2-11e9-a389-42010a14013c","6ef3250e-e4c2-11e9-a389-42010a14013c","6ef33ac6-e4c2-11e9-a389-42010a14013c","6ef34f48-e4c2-11e9-a389-42010a14013c","6ef46450-e4c2-11e9-a389-42010a14013c","6ef44dda-e4c2-11e9-a389-42010a14013c","6ef3d17a-e4c2-11e9-a389-42010a14013c","6ef3e6ba-e4c2-11e9-a389-42010a14013c","6ef3fb3c-e4c2-11e9-a389-42010a14013c","6ef40f3c-e4c2-11e9-a389-42010a14013c","6ef42378-e4c2-11e9-a389-42010a14013c","6ef436e2-e4c2-11e9-a389-42010a14013c","6ef7276c-e4c2-11e9-a389-42010a14013c","6ef71416-e4c2-11e9-a389-42010a14013c","6ef65486-e4c2-11e9-a389-42010a14013c","6ef64086-e4c2-11e9-a389-42010a14013c","6ef54afa-e4c2-11e9-a389-42010a14013c","6ef61368-e4c2-11e9-a389-42010a14013c","6ef55f04-e4c2-11e9-a389-42010a14013c","6ef5fcca-e4c2-11e9-a389-42010a14013c","6ef575c0-e4c2-11e9-a389-42010a14013c","6ef59078-e4c2-11e9-a389-42010a14013c","6ef5a702-e4c2-11e9-a389-42010a14013c","6ef5bc6a-e4c2-11e9-a389-42010a14013c","6ef5d182-e4c2-11e9-a389-42010a14013c","6ef5e65e-e4c2-11e9-a389-42010a14013c","6ef6ff44-e4c2-11e9-a389-42010a14013c","6ef6ea18-e4c2-11e9-a389-42010a14013c","6ef66f20-e4c2-11e9-a389-42010a14013c","6ef68438-e4c2-11e9-a389-42010a14013c","6ef6986a-e4c2-11e9-a389-42010a14013c","6ef6ac2e-e4c2-11e9-a389-42010a14013c","6ef6c1fa-e4c2-11e9-a389-42010a14013c","6ef6d5d2-e4c2-11e9-a389-42010a14013c","6ef9ad8e-e4c2-11e9-a389-42010a14013c","6ef99970-e4c2-11e9-a389-42010a14013c","6ef8de0e-e4c2-11e9-a389-42010a14013c","6ef8ca36-e4c2-11e9-a389-42010a14013c","6ef7dfd6-e4c2-11e9-a389-42010a14013c","6ef8a22c-e4c2-11e9-a389-42010a14013c","6ef7f462-e4c2-11e9-a389-42010a14013c","6ef88bca-e4c2-11e9-a389-42010a14013c","6ef80ad8-e4c2-11e9-a389-42010a14013c","6ef82086-e4c2-11e9-a389-42010a14013c","6ef836a2-e4c2-11e9-a389-42010a14013c","6ef84c1e-e4c2-11e9-a389-42010a14013c","6ef8614a-e4c2-11e9-a389-42010a14013c","6ef876ee-e4c2-11e9-a389-42010a14013c","6ef984a8-e4c2-11e9-a389-42010a14013c","6ef96edc-e4c2-11e9-a389-42010a14013c","6ef8f6e6-e4c2-11e9-a389-42010a14013c","6ef90afa-e4c2-11e9-a389-42010a14013c","6ef91e96-e4c2-11e9-a389-42010a14013c","6ef933fe-e4c2-11e9-a389-42010a14013c","6ef94790-e4c2-11e9-a389-42010a14013c","6ef95be0-e4c2-11e9-a389-42010a14013c","6efc42f6-e4c2-11e9-a389-42010a14013c","6efc2dc0-e4c2-11e9-a389-42010a14013c","6efb6ea8-e4c2-11e9-a389-42010a14013c","6efb5abc-e4c2-11e9-a389-42010a14013c","6efa6eb8-e4c2-11e9-a389-42010a14013c","6efb30dc-e4c2-11e9-a389-42010a14013c","6efa83e4-e4c2-11e9-a389-42010a14013c","6efb1b56-e4c2-11e9-a389-42010a14013c","6efa9a46-e4c2-11e9-a389-42010a14013c","6efaafe0-e4c2-11e9-a389-42010a14013c","6efac4da-e4c2-11e9-a389-42010a14013c","6efada6a-e4c2-11e9-a389-42010a14013c","6efaef50-e4c2-11e9-a389-42010a14013c","6efb059e-e4c2-11e9-a389-42010a14013c","6efc19f2-e4c2-11e9-a389-42010a14013c","6efc048a-e4c2-11e9-a389-42010a14013c","6efb88f2-e4c2-11e9-a389-42010a14013c","6efb9eaa-e4c2-11e9-a389-42010a14013c","6efbb336-e4c2-11e9-a389-42010a14013c","6efbc790-e4c2-11e9-a389-42010a14013c","6efbdb2c-e4c2-11e9-a389-42010a14013c","6efbf116-e4c2-11e9-a389-42010a14013c","6efec6a2-e4c2-11e9-a389-42010a14013c","6efeb342-e4c2-11e9-a389-42010a14013c","6efdf4f2-e4c2-11e9-a389-42010a14013c","6efde142-e4c2-11e9-a389-42010a14013c","6efcfc96-e4c2-11e9-a389-42010a14013c","6efdb960-e4c2-11e9-a389-42010a14013c","6efd106e-e4c2-11e9-a389-42010a14013c","6efda452-e4c2-11e9-a389-42010a14013c","6efd26b2-e4c2-11e9-a389-42010a14013c","6efd3b0c-e4c2-11e9-a389-42010a14013c","6efd502e-e4c2-11e9-a389-42010a14013c","6efd64b0-e4c2-11e9-a389-42010a14013c","6efd7b1c-e4c2-11e9-a389-42010a14013c","6efd9020-e4c2-11e9-a389-42010a14013c","6efe9d9e-e4c2-11e9-a389-42010a14013c","6efe8840-e4c2-11e9-a389-42010a14013c","6efe0f96-e4c2-11e9-a389-42010a14013c","6efe23a0-e4c2-11e9-a389-42010a14013c","6efe3804-e4c2-11e9-a389-42010a14013c","6efe4c90-e4c2-11e9-a389-42010a14013c","6efe60ae-e4c2-11e9-a389-42010a14013c","6efe73d2-e4c2-11e9-a389-42010a14013c","6eff1b16-e4c2-11e9-a389-42010a14013c","6eff2e94-e4c2-11e9-a389-42010a14013c"],"label":["CV_","bundle","CV_Stack","bundle","Stack","bundle","Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP->Stack)","bundle","Lrnr_pkg_SuperLearner_screener_screen.corP","Stack","chain","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","bundle","Stack","bundle","Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP->Stack)","bundle","Lrnr_pkg_SuperLearner_screener_screen.corP","Stack","chain","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP->Stack)","bundle","Lrnr_pkg_SuperLearner_screener_screen.corP","Stack","chain","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP->Stack)","bundle","Lrnr_pkg_SuperLearner_screener_screen.corP","Stack","chain","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP->Stack)","bundle","Lrnr_pkg_SuperLearner_screener_screen.corP","Stack","chain","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP->Stack)","bundle","Lrnr_pkg_SuperLearner_screener_screen.corP","Stack","chain","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP->Stack)","bundle","Lrnr_pkg_SuperLearner_screener_screen.corP","Stack","chain","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP->Stack)","bundle","Lrnr_pkg_SuperLearner_screener_screen.corP","Stack","chain","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP->Stack)","bundle","Lrnr_pkg_SuperLearner_screener_screen.corP","Stack","chain","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP->Stack)","bundle","Lrnr_pkg_SuperLearner_screener_screen.corP","Stack","chain","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP->Stack)","bundle","Lrnr_pkg_SuperLearner_screener_screen.corP","Stack","chain","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","Stack","bundle","Lrnr_glm_TRUE","Lrnr_mean","Lrnr_ranger_100_TRUE_1","Lrnr_glmnet_NULL_deviance_10_1_100_TRUE","Lrnr_pkg_SuperLearner_SL.gam","Lrnr_pkg_SuperLearner_SL.bayesglm","chain","Lrnr_nnls"],"level":[1,2,5,6,7,8,9,10,15,11,14,12,13,13,13,13,13,13,9,10,11,11,11,11,11,11,7,8,9,10,11,16,12,15,13,14,14,14,14,14,14,10,11,12,12,12,12,12,12,8,9,10,11,16,12,15,13,14,14,14,14,14,14,10,11,12,12,12,12,12,12,8,9,10,11,16,12,15,13,14,14,14,14,14,14,10,11,12,12,12,12,12,12,8,9,10,11,16,12,15,13,14,14,14,14,14,14,10,11,12,12,12,12,12,12,8,9,10,11,16,12,15,13,14,14,14,14,14,14,10,11,12,12,12,12,12,12,8,9,10,11,16,12,15,13,14,14,14,14,14,14,10,11,12,12,12,12,12,12,8,9,10,11,16,12,15,13,14,14,14,14,14,14,10,11,12,12,12,12,12,12,8,9,10,11,16,12,15,13,14,14,14,14,14,14,10,11,12,12,12,12,12,12,8,9,10,11,16,12,15,13,14,14,14,14,14,14,10,11,12,12,12,12,12,12,8,9,10,11,16,12,15,13,14,14,14,14,14,14,10,11,12,12,12,12,12,12,4,3],"sequential":[true,true,true,true,true,true,true,true,false,true,true,true,false,false,false,false,false,false,true,true,false,false,false,false,false,false,true,true,true,true,true,false,true,true,true,false,false,false,false,false,false,true,true,false,false,false,false,false,false,true,true,true,true,false,true,true,true,false,false,false,false,false,false,true,true,false,false,false,false,false,false,true,true,true,true,false,true,true,true,false,false,false,false,false,false,true,true,false,false,false,false,false,false,true,true,true,true,false,true,true,true,false,false,false,false,false,false,true,true,false,false,false,false,false,false,true,true,true,true,false,true,true,true,false,false,false,false,false,false,true,true,false,false,false,false,false,false,true,true,true,true,false,true,true,true,false,false,false,false,false,false,true,true,false,false,false,false,false,false,true,true,true,true,false,true,true,true,false,false,false,false,false,false,true,true,false,false,false,false,false,false,true,true,true,true,false,true,true,true,false,false,false,false,false,false,true,true,false,false,false,false,false,false,true,true,true,true,false,true,true,true,false,false,false,false,false,false,true,true,false,false,false,false,false,false,true,true,true,true,false,true,true,true,false,false,false,false,false,false,true,true,false,false,false,false,false,false,true,false],"state":["waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","ready","ready","ready","ready","ready","waiting","waiting","waiting","waiting","waiting","ready","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","ready","ready","ready","ready","ready","waiting","waiting","waiting","waiting","ready","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","ready","ready","ready","ready","ready","waiting","waiting","waiting","waiting","ready","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","ready","ready","ready","ready","ready","waiting","waiting","waiting","waiting","ready","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","ready","ready","ready","ready","ready","waiting","waiting","waiting","waiting","ready","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","ready","ready","ready","ready","ready","waiting","waiting","waiting","waiting","ready","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","ready","ready","ready","ready","ready","waiting","waiting","waiting","waiting","ready","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","ready","ready","ready","ready","ready","waiting","waiting","waiting","waiting","ready","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","ready","ready","ready","ready","ready","waiting","waiting","waiting","waiting","ready","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","ready","ready","ready","ready","ready","waiting","waiting","waiting","waiting","ready","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","waiting","ready","ready","ready","ready","ready","ready","waiting","waiting"],"group":["none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none"]},"edges":{"from":["6ed1b446-e4c2-11e9-a389-42010a14013c","6ed1b446-e4c2-11e9-a389-42010a14013c","6ed1ca12-e4c2-11e9-a389-42010a14013c","6ed1ca12-e4c2-11e9-a389-42010a14013c","6ed1e506-e4c2-11e9-a389-42010a14013c","6ed1ca12-e4c2-11e9-a389-42010a14013c","6ed1fb9a-e4c2-11e9-a389-42010a14013c","6ed1ca12-e4c2-11e9-a389-42010a14013c","6ed21148-e4c2-11e9-a389-42010a14013c","6ed1ca12-e4c2-11e9-a389-42010a14013c","6ed229da-e4c2-11e9-a389-42010a14013c","6ed1ca12-e4c2-11e9-a389-42010a14013c","6ed23f88-e4c2-11e9-a389-42010a14013c","6ed1ca12-e4c2-11e9-a389-42010a14013c","6ed25630-e4c2-11e9-a389-42010a14013c","6ed26aa8-e4c2-11e9-a389-42010a14013c","6ed28060-e4c2-11e9-a389-42010a14013c","6ed2aa68-e4c2-11e9-a389-42010a14013c","6ed2c156-e4c2-11e9-a389-42010a14013c","6ed2dcf4-e4c2-11e9-a389-42010a14013c","6ed2f25c-e4c2-11e9-a389-42010a14013c","6ed3071a-e4c2-11e9-a389-42010a14013c","6ed31b88-e4c2-11e9-a389-42010a14013c","6ed32f9c-e4c2-11e9-a389-42010a14013c","6ed343d8-e4c2-11e9-a389-42010a14013c","6ed35a1c-e4c2-11e9-a389-42010a14013c","6ed37164-e4c2-11e9-a389-42010a14013c","6ed38618-e4c2-11e9-a389-42010a14013c","6ed39b94-e4c2-11e9-a389-42010a14013c","6ee5acbc-e4c2-11e9-a389-42010a14013c","6ee5acbc-e4c2-11e9-a389-42010a14013c","6ee5c5c6-e4c2-11e9-a389-42010a14013c","6ee5c5c6-e4c2-11e9-a389-42010a14013c","6ee5dcaa-e4c2-11e9-a389-42010a14013c","6ee5c5c6-e4c2-11e9-a389-42010a14013c","6ee5f6b8-e4c2-11e9-a389-42010a14013c","6ee5c5c6-e4c2-11e9-a389-42010a14013c","6ee60e14-e4c2-11e9-a389-42010a14013c","6ee5c5c6-e4c2-11e9-a389-42010a14013c","6ee6246c-e4c2-11e9-a389-42010a14013c","6ee5c5c6-e4c2-11e9-a389-42010a14013c","6ee63ad8-e4c2-11e9-a389-42010a14013c","6ee5c5c6-e4c2-11e9-a389-42010a14013c","6ee650f4-e4c2-11e9-a389-42010a14013c","6ee666ca-e4c2-11e9-a389-42010a14013c","6ee67d4a-e4c2-11e9-a389-42010a14013c","6ee6a75c-e4c2-11e9-a389-42010a14013c","6ee6be90-e4c2-11e9-a389-42010a14013c","6ee6da4c-e4c2-11e9-a389-42010a14013c","6ee6f09a-e4c2-11e9-a389-42010a14013c","6ee70508-e4c2-11e9-a389-42010a14013c","6ee71912-e4c2-11e9-a389-42010a14013c","6ee72da8-e4c2-11e9-a389-42010a14013c","6ee742c0-e4c2-11e9-a389-42010a14013c","6ee75774-e4c2-11e9-a389-42010a14013c","6ee76da4-e4c2-11e9-a389-42010a14013c","6ee783e8-e4c2-11e9-a389-42010a14013c","6ee797e8-e4c2-11e9-a389-42010a14013c","6ee856e2-e4c2-11e9-a389-42010a14013c","6ee856e2-e4c2-11e9-a389-42010a14013c","6ee86d26-e4c2-11e9-a389-42010a14013c","6ee86d26-e4c2-11e9-a389-42010a14013c","6ee8831a-e4c2-11e9-a389-42010a14013c","6ee86d26-e4c2-11e9-a389-42010a14013c","6ee8999a-e4c2-11e9-a389-42010a14013c","6ee86d26-e4c2-11e9-a389-42010a14013c","6ee8af66-e4c2-11e9-a389-42010a14013c","6ee86d26-e4c2-11e9-a389-42010a14013c","6ee8c6e0-e4c2-11e9-a389-42010a14013c","6ee86d26-e4c2-11e9-a389-42010a14013c","6ee8dc8e-e4c2-11e9-a389-42010a14013c","6ee86d26-e4c2-11e9-a389-42010a14013c","6ee8f250-e4c2-11e9-a389-42010a14013c","6ee9081c-e4c2-11e9-a389-42010a14013c","6ee91f78-e4c2-11e9-a389-42010a14013c","6ee94ae8-e4c2-11e9-a389-42010a14013c","6ee96190-e4c2-11e9-a389-42010a14013c","6ee97dec-e4c2-11e9-a389-42010a14013c","6ee994a8-e4c2-11e9-a389-42010a14013c","6ee9a9ca-e4c2-11e9-a389-42010a14013c","6ee9bef6-e4c2-11e9-a389-42010a14013c","6ee9d3fa-e4c2-11e9-a389-42010a14013c","6ee9ea0c-e4c2-11e9-a389-42010a14013c","6ee9fed4-e4c2-11e9-a389-42010a14013c","6eea152c-e4c2-11e9-a389-42010a14013c","6eea2a1c-e4c2-11e9-a389-42010a14013c","6eea3ebc-e4c2-11e9-a389-42010a14013c","6eeafd84-e4c2-11e9-a389-42010a14013c","6eeafd84-e4c2-11e9-a389-42010a14013c","6eeb117a-e4c2-11e9-a389-42010a14013c","6eeb117a-e4c2-11e9-a389-42010a14013c","6eeb298a-e4c2-11e9-a389-42010a14013c","6eeb117a-e4c2-11e9-a389-42010a14013c","6eeb3fd8-e4c2-11e9-a389-42010a14013c","6eeb117a-e4c2-11e9-a389-42010a14013c","6eeb569e-e4c2-11e9-a389-42010a14013c","6eeb117a-e4c2-11e9-a389-42010a14013c","6eeb6c74-e4c2-11e9-a389-42010a14013c","6eeb117a-e4c2-11e9-a389-42010a14013c","6eeb81aa-e4c2-11e9-a389-42010a14013c","6eeb117a-e4c2-11e9-a389-42010a14013c","6eeb973a-e4c2-11e9-a389-42010a14013c","6eebab62-e4c2-11e9-a389-42010a14013c","6eebc264-e4c2-11e9-a389-42010a14013c","6eebeb18-e4c2-11e9-a389-42010a14013c","6eebff54-e4c2-11e9-a389-42010a14013c","6eec1944-e4c2-11e9-a389-42010a14013c","6eec2d9e-e4c2-11e9-a389-42010a14013c","6eec427a-e4c2-11e9-a389-42010a14013c","6eec56e8-e4c2-11e9-a389-42010a14013c","6eec6c5a-e4c2-11e9-a389-42010a14013c","6eec80be-e4c2-11e9-a389-42010a14013c","6eec9432-e4c2-11e9-a389-42010a14013c","6eeca9cc-e4c2-11e9-a389-42010a14013c","6eecbe12-e4c2-11e9-a389-42010a14013c","6eecd19a-e4c2-11e9-a389-42010a14013c","6eed8cc0-e4c2-11e9-a389-42010a14013c","6eed8cc0-e4c2-11e9-a389-42010a14013c","6eeda624-e4c2-11e9-a389-42010a14013c","6eeda624-e4c2-11e9-a389-42010a14013c","6eedbccc-e4c2-11e9-a389-42010a14013c","6eeda624-e4c2-11e9-a389-42010a14013c","6eedd2f2-e4c2-11e9-a389-42010a14013c","6eeda624-e4c2-11e9-a389-42010a14013c","6eede85a-e4c2-11e9-a389-42010a14013c","6eeda624-e4c2-11e9-a389-42010a14013c","6eedfd90-e4c2-11e9-a389-42010a14013c","6eeda624-e4c2-11e9-a389-42010a14013c","6eee1398-e4c2-11e9-a389-42010a14013c","6eeda624-e4c2-11e9-a389-42010a14013c","6eee28c4-e4c2-11e9-a389-42010a14013c","6eee3ec2-e4c2-11e9-a389-42010a14013c","6eee5448-e4c2-11e9-a389-42010a14013c","6eee7c70-e4c2-11e9-a389-42010a14013c","6eee9002-e4c2-11e9-a389-42010a14013c","6eeea98e-e4c2-11e9-a389-42010a14013c","6eeebd20-e4c2-11e9-a389-42010a14013c","6eeed300-e4c2-11e9-a389-42010a14013c","6eeee732-e4c2-11e9-a389-42010a14013c","6eeefb3c-e4c2-11e9-a389-42010a14013c","6eef0fa0-e4c2-11e9-a389-42010a14013c","6eef2378-e4c2-11e9-a389-42010a14013c","6eef3872-e4c2-11e9-a389-42010a14013c","6eef4d6c-e4c2-11e9-a389-42010a14013c","6eef616c-e4c2-11e9-a389-42010a14013c","6ef01d96-e4c2-11e9-a389-42010a14013c","6ef01d96-e4c2-11e9-a389-42010a14013c","6ef03164-e4c2-11e9-a389-42010a14013c","6ef03164-e4c2-11e9-a389-42010a14013c","6ef046fe-e4c2-11e9-a389-42010a14013c","6ef03164-e4c2-11e9-a389-42010a14013c","6ef05d24-e4c2-11e9-a389-42010a14013c","6ef03164-e4c2-11e9-a389-42010a14013c","6ef07264-e4c2-11e9-a389-42010a14013c","6ef03164-e4c2-11e9-a389-42010a14013c","6ef08786-e4c2-11e9-a389-42010a14013c","6ef03164-e4c2-11e9-a389-42010a14013c","6ef09c9e-e4c2-11e9-a389-42010a14013c","6ef03164-e4c2-11e9-a389-42010a14013c","6ef0b2ec-e4c2-11e9-a389-42010a14013c","6ef0c7b4-e4c2-11e9-a389-42010a14013c","6ef0ddc6-e4c2-11e9-a389-42010a14013c","6ef1065c-e4c2-11e9-a389-42010a14013c","6ef11aac-e4c2-11e9-a389-42010a14013c","6ef13550-e4c2-11e9-a389-42010a14013c","6ef14b3a-e4c2-11e9-a389-42010a14013c","6ef15fee-e4c2-11e9-a389-42010a14013c","6ef17402-e4c2-11e9-a389-42010a14013c","6ef18820-e4c2-11e9-a389-42010a14013c","6ef19c2a-e4c2-11e9-a389-42010a14013c","6ef1afee-e4c2-11e9-a389-42010a14013c","6ef1c59c-e4c2-11e9-a389-42010a14013c","6ef1dbf4-e4c2-11e9-a389-42010a14013c","6ef1f30a-e4c2-11e9-a389-42010a14013c","6ef2b2e0-e4c2-11e9-a389-42010a14013c","6ef2b2e0-e4c2-11e9-a389-42010a14013c","6ef2c69a-e4c2-11e9-a389-42010a14013c","6ef2c69a-e4c2-11e9-a389-42010a14013c","6ef2dc48-e4c2-11e9-a389-42010a14013c","6ef2c69a-e4c2-11e9-a389-42010a14013c","6ef2f688-e4c2-11e9-a389-42010a14013c","6ef2c69a-e4c2-11e9-a389-42010a14013c","6ef30cb8-e4c2-11e9-a389-42010a14013c","6ef2c69a-e4c2-11e9-a389-42010a14013c","6ef3250e-e4c2-11e9-a389-42010a14013c","6ef2c69a-e4c2-11e9-a389-42010a14013c","6ef33ac6-e4c2-11e9-a389-42010a14013c","6ef2c69a-e4c2-11e9-a389-42010a14013c","6ef34f48-e4c2-11e9-a389-42010a14013c","6ef3641a-e4c2-11e9-a389-42010a14013c","6ef378f6-e4c2-11e9-a389-42010a14013c","6ef3a0b0-e4c2-11e9-a389-42010a14013c","6ef3b6fe-e4c2-11e9-a389-42010a14013c","6ef3d17a-e4c2-11e9-a389-42010a14013c","6ef3e6ba-e4c2-11e9-a389-42010a14013c","6ef3fb3c-e4c2-11e9-a389-42010a14013c","6ef40f3c-e4c2-11e9-a389-42010a14013c","6ef42378-e4c2-11e9-a389-42010a14013c","6ef436e2-e4c2-11e9-a389-42010a14013c","6ef44dda-e4c2-11e9-a389-42010a14013c","6ef46450-e4c2-11e9-a389-42010a14013c","6ef478f0-e4c2-11e9-a389-42010a14013c","6ef48da4-e4c2-11e9-a389-42010a14013c","6ef54afa-e4c2-11e9-a389-42010a14013c","6ef54afa-e4c2-11e9-a389-42010a14013c","6ef55f04-e4c2-11e9-a389-42010a14013c","6ef55f04-e4c2-11e9-a389-42010a14013c","6ef575c0-e4c2-11e9-a389-42010a14013c","6ef55f04-e4c2-11e9-a389-42010a14013c","6ef59078-e4c2-11e9-a389-42010a14013c","6ef55f04-e4c2-11e9-a389-42010a14013c","6ef5a702-e4c2-11e9-a389-42010a14013c","6ef55f04-e4c2-11e9-a389-42010a14013c","6ef5bc6a-e4c2-11e9-a389-42010a14013c","6ef55f04-e4c2-11e9-a389-42010a14013c","6ef5d182-e4c2-11e9-a389-42010a14013c","6ef55f04-e4c2-11e9-a389-42010a14013c","6ef5e65e-e4c2-11e9-a389-42010a14013c","6ef5fcca-e4c2-11e9-a389-42010a14013c","6ef61368-e4c2-11e9-a389-42010a14013c","6ef64086-e4c2-11e9-a389-42010a14013c","6ef65486-e4c2-11e9-a389-42010a14013c","6ef66f20-e4c2-11e9-a389-42010a14013c","6ef68438-e4c2-11e9-a389-42010a14013c","6ef6986a-e4c2-11e9-a389-42010a14013c","6ef6ac2e-e4c2-11e9-a389-42010a14013c","6ef6c1fa-e4c2-11e9-a389-42010a14013c","6ef6d5d2-e4c2-11e9-a389-42010a14013c","6ef6ea18-e4c2-11e9-a389-42010a14013c","6ef6ff44-e4c2-11e9-a389-42010a14013c","6ef71416-e4c2-11e9-a389-42010a14013c","6ef7276c-e4c2-11e9-a389-42010a14013c","6ef7dfd6-e4c2-11e9-a389-42010a14013c","6ef7dfd6-e4c2-11e9-a389-42010a14013c","6ef7f462-e4c2-11e9-a389-42010a14013c","6ef7f462-e4c2-11e9-a389-42010a14013c","6ef80ad8-e4c2-11e9-a389-42010a14013c","6ef7f462-e4c2-11e9-a389-42010a14013c","6ef82086-e4c2-11e9-a389-42010a14013c","6ef7f462-e4c2-11e9-a389-42010a14013c","6ef836a2-e4c2-11e9-a389-42010a14013c","6ef7f462-e4c2-11e9-a389-42010a14013c","6ef84c1e-e4c2-11e9-a389-42010a14013c","6ef7f462-e4c2-11e9-a389-42010a14013c","6ef8614a-e4c2-11e9-a389-42010a14013c","6ef7f462-e4c2-11e9-a389-42010a14013c","6ef876ee-e4c2-11e9-a389-42010a14013c","6ef88bca-e4c2-11e9-a389-42010a14013c","6ef8a22c-e4c2-11e9-a389-42010a14013c","6ef8ca36-e4c2-11e9-a389-42010a14013c","6ef8de0e-e4c2-11e9-a389-42010a14013c","6ef8f6e6-e4c2-11e9-a389-42010a14013c","6ef90afa-e4c2-11e9-a389-42010a14013c","6ef91e96-e4c2-11e9-a389-42010a14013c","6ef933fe-e4c2-11e9-a389-42010a14013c","6ef94790-e4c2-11e9-a389-42010a14013c","6ef95be0-e4c2-11e9-a389-42010a14013c","6ef96edc-e4c2-11e9-a389-42010a14013c","6ef984a8-e4c2-11e9-a389-42010a14013c","6ef99970-e4c2-11e9-a389-42010a14013c","6ef9ad8e-e4c2-11e9-a389-42010a14013c","6efa6eb8-e4c2-11e9-a389-42010a14013c","6efa6eb8-e4c2-11e9-a389-42010a14013c","6efa83e4-e4c2-11e9-a389-42010a14013c","6efa83e4-e4c2-11e9-a389-42010a14013c","6efa9a46-e4c2-11e9-a389-42010a14013c","6efa83e4-e4c2-11e9-a389-42010a14013c","6efaafe0-e4c2-11e9-a389-42010a14013c","6efa83e4-e4c2-11e9-a389-42010a14013c","6efac4da-e4c2-11e9-a389-42010a14013c","6efa83e4-e4c2-11e9-a389-42010a14013c","6efada6a-e4c2-11e9-a389-42010a14013c","6efa83e4-e4c2-11e9-a389-42010a14013c","6efaef50-e4c2-11e9-a389-42010a14013c","6efa83e4-e4c2-11e9-a389-42010a14013c","6efb059e-e4c2-11e9-a389-42010a14013c","6efb1b56-e4c2-11e9-a389-42010a14013c","6efb30dc-e4c2-11e9-a389-42010a14013c","6efb5abc-e4c2-11e9-a389-42010a14013c","6efb6ea8-e4c2-11e9-a389-42010a14013c","6efb88f2-e4c2-11e9-a389-42010a14013c","6efb9eaa-e4c2-11e9-a389-42010a14013c","6efbb336-e4c2-11e9-a389-42010a14013c","6efbc790-e4c2-11e9-a389-42010a14013c","6efbdb2c-e4c2-11e9-a389-42010a14013c","6efbf116-e4c2-11e9-a389-42010a14013c","6efc048a-e4c2-11e9-a389-42010a14013c","6efc19f2-e4c2-11e9-a389-42010a14013c","6efc2dc0-e4c2-11e9-a389-42010a14013c","6efc42f6-e4c2-11e9-a389-42010a14013c","6efcfc96-e4c2-11e9-a389-42010a14013c","6efcfc96-e4c2-11e9-a389-42010a14013c","6efd106e-e4c2-11e9-a389-42010a14013c","6efd106e-e4c2-11e9-a389-42010a14013c","6efd26b2-e4c2-11e9-a389-42010a14013c","6efd106e-e4c2-11e9-a389-42010a14013c","6efd3b0c-e4c2-11e9-a389-42010a14013c","6efd106e-e4c2-11e9-a389-42010a14013c","6efd502e-e4c2-11e9-a389-42010a14013c","6efd106e-e4c2-11e9-a389-42010a14013c","6efd64b0-e4c2-11e9-a389-42010a14013c","6efd106e-e4c2-11e9-a389-42010a14013c","6efd7b1c-e4c2-11e9-a389-42010a14013c","6efd106e-e4c2-11e9-a389-42010a14013c","6efd9020-e4c2-11e9-a389-42010a14013c","6efda452-e4c2-11e9-a389-42010a14013c","6efdb960-e4c2-11e9-a389-42010a14013c","6efde142-e4c2-11e9-a389-42010a14013c","6efdf4f2-e4c2-11e9-a389-42010a14013c","6efe0f96-e4c2-11e9-a389-42010a14013c","6efe23a0-e4c2-11e9-a389-42010a14013c","6efe3804-e4c2-11e9-a389-42010a14013c","6efe4c90-e4c2-11e9-a389-42010a14013c","6efe60ae-e4c2-11e9-a389-42010a14013c","6efe73d2-e4c2-11e9-a389-42010a14013c","6efe8840-e4c2-11e9-a389-42010a14013c","6efe9d9e-e4c2-11e9-a389-42010a14013c","6efeb342-e4c2-11e9-a389-42010a14013c","6efec6a2-e4c2-11e9-a389-42010a14013c","6efedc14-e4c2-11e9-a389-42010a14013c","6efef2bc-e4c2-11e9-a389-42010a14013c","6eff0630-e4c2-11e9-a389-42010a14013c","6eff0630-e4c2-11e9-a389-42010a14013c","6eff1b16-e4c2-11e9-a389-42010a14013c","6eff1b16-e4c2-11e9-a389-42010a14013c","6eff2e94-e4c2-11e9-a389-42010a14013c","6eff4370-e4c2-11e9-a389-42010a14013c"],"to":["6ed2aa68-e4c2-11e9-a389-42010a14013c","6ed1ca12-e4c2-11e9-a389-42010a14013c","6ed28060-e4c2-11e9-a389-42010a14013c","6ed1e506-e4c2-11e9-a389-42010a14013c","6ed26aa8-e4c2-11e9-a389-42010a14013c","6ed1fb9a-e4c2-11e9-a389-42010a14013c","6ed26aa8-e4c2-11e9-a389-42010a14013c","6ed21148-e4c2-11e9-a389-42010a14013c","6ed26aa8-e4c2-11e9-a389-42010a14013c","6ed229da-e4c2-11e9-a389-42010a14013c","6ed26aa8-e4c2-11e9-a389-42010a14013c","6ed23f88-e4c2-11e9-a389-42010a14013c","6ed26aa8-e4c2-11e9-a389-42010a14013c","6ed25630-e4c2-11e9-a389-42010a14013c","6ed26aa8-e4c2-11e9-a389-42010a14013c","6ed28060-e4c2-11e9-a389-42010a14013c","6ed2aa68-e4c2-11e9-a389-42010a14013c","6ed2c156-e4c2-11e9-a389-42010a14013c","6ed38618-e4c2-11e9-a389-42010a14013c","6ed35a1c-e4c2-11e9-a389-42010a14013c","6ed35a1c-e4c2-11e9-a389-42010a14013c","6ed35a1c-e4c2-11e9-a389-42010a14013c","6ed35a1c-e4c2-11e9-a389-42010a14013c","6ed35a1c-e4c2-11e9-a389-42010a14013c","6ed35a1c-e4c2-11e9-a389-42010a14013c","6ed37164-e4c2-11e9-a389-42010a14013c","6ed38618-e4c2-11e9-a389-42010a14013c","6ed39b94-e4c2-11e9-a389-42010a14013c","6efef2bc-e4c2-11e9-a389-42010a14013c","6ee6a75c-e4c2-11e9-a389-42010a14013c","6ee5c5c6-e4c2-11e9-a389-42010a14013c","6ee67d4a-e4c2-11e9-a389-42010a14013c","6ee5dcaa-e4c2-11e9-a389-42010a14013c","6ee666ca-e4c2-11e9-a389-42010a14013c","6ee5f6b8-e4c2-11e9-a389-42010a14013c","6ee666ca-e4c2-11e9-a389-42010a14013c","6ee60e14-e4c2-11e9-a389-42010a14013c","6ee666ca-e4c2-11e9-a389-42010a14013c","6ee6246c-e4c2-11e9-a389-42010a14013c","6ee666ca-e4c2-11e9-a389-42010a14013c","6ee63ad8-e4c2-11e9-a389-42010a14013c","6ee666ca-e4c2-11e9-a389-42010a14013c","6ee650f4-e4c2-11e9-a389-42010a14013c","6ee666ca-e4c2-11e9-a389-42010a14013c","6ee67d4a-e4c2-11e9-a389-42010a14013c","6ee6a75c-e4c2-11e9-a389-42010a14013c","6ee6be90-e4c2-11e9-a389-42010a14013c","6ee783e8-e4c2-11e9-a389-42010a14013c","6ee75774-e4c2-11e9-a389-42010a14013c","6ee75774-e4c2-11e9-a389-42010a14013c","6ee75774-e4c2-11e9-a389-42010a14013c","6ee75774-e4c2-11e9-a389-42010a14013c","6ee75774-e4c2-11e9-a389-42010a14013c","6ee75774-e4c2-11e9-a389-42010a14013c","6ee76da4-e4c2-11e9-a389-42010a14013c","6ee783e8-e4c2-11e9-a389-42010a14013c","6ee797e8-e4c2-11e9-a389-42010a14013c","6efedc14-e4c2-11e9-a389-42010a14013c","6ee94ae8-e4c2-11e9-a389-42010a14013c","6ee86d26-e4c2-11e9-a389-42010a14013c","6ee91f78-e4c2-11e9-a389-42010a14013c","6ee8831a-e4c2-11e9-a389-42010a14013c","6ee9081c-e4c2-11e9-a389-42010a14013c","6ee8999a-e4c2-11e9-a389-42010a14013c","6ee9081c-e4c2-11e9-a389-42010a14013c","6ee8af66-e4c2-11e9-a389-42010a14013c","6ee9081c-e4c2-11e9-a389-42010a14013c","6ee8c6e0-e4c2-11e9-a389-42010a14013c","6ee9081c-e4c2-11e9-a389-42010a14013c","6ee8dc8e-e4c2-11e9-a389-42010a14013c","6ee9081c-e4c2-11e9-a389-42010a14013c","6ee8f250-e4c2-11e9-a389-42010a14013c","6ee9081c-e4c2-11e9-a389-42010a14013c","6ee91f78-e4c2-11e9-a389-42010a14013c","6ee94ae8-e4c2-11e9-a389-42010a14013c","6ee96190-e4c2-11e9-a389-42010a14013c","6eea2a1c-e4c2-11e9-a389-42010a14013c","6ee9fed4-e4c2-11e9-a389-42010a14013c","6ee9fed4-e4c2-11e9-a389-42010a14013c","6ee9fed4-e4c2-11e9-a389-42010a14013c","6ee9fed4-e4c2-11e9-a389-42010a14013c","6ee9fed4-e4c2-11e9-a389-42010a14013c","6ee9fed4-e4c2-11e9-a389-42010a14013c","6eea152c-e4c2-11e9-a389-42010a14013c","6eea2a1c-e4c2-11e9-a389-42010a14013c","6eea3ebc-e4c2-11e9-a389-42010a14013c","6efedc14-e4c2-11e9-a389-42010a14013c","6eebeb18-e4c2-11e9-a389-42010a14013c","6eeb117a-e4c2-11e9-a389-42010a14013c","6eebc264-e4c2-11e9-a389-42010a14013c","6eeb298a-e4c2-11e9-a389-42010a14013c","6eebab62-e4c2-11e9-a389-42010a14013c","6eeb3fd8-e4c2-11e9-a389-42010a14013c","6eebab62-e4c2-11e9-a389-42010a14013c","6eeb569e-e4c2-11e9-a389-42010a14013c","6eebab62-e4c2-11e9-a389-42010a14013c","6eeb6c74-e4c2-11e9-a389-42010a14013c","6eebab62-e4c2-11e9-a389-42010a14013c","6eeb81aa-e4c2-11e9-a389-42010a14013c","6eebab62-e4c2-11e9-a389-42010a14013c","6eeb973a-e4c2-11e9-a389-42010a14013c","6eebab62-e4c2-11e9-a389-42010a14013c","6eebc264-e4c2-11e9-a389-42010a14013c","6eebeb18-e4c2-11e9-a389-42010a14013c","6eebff54-e4c2-11e9-a389-42010a14013c","6eecbe12-e4c2-11e9-a389-42010a14013c","6eec9432-e4c2-11e9-a389-42010a14013c","6eec9432-e4c2-11e9-a389-42010a14013c","6eec9432-e4c2-11e9-a389-42010a14013c","6eec9432-e4c2-11e9-a389-42010a14013c","6eec9432-e4c2-11e9-a389-42010a14013c","6eec9432-e4c2-11e9-a389-42010a14013c","6eeca9cc-e4c2-11e9-a389-42010a14013c","6eecbe12-e4c2-11e9-a389-42010a14013c","6eecd19a-e4c2-11e9-a389-42010a14013c","6efedc14-e4c2-11e9-a389-42010a14013c","6eee7c70-e4c2-11e9-a389-42010a14013c","6eeda624-e4c2-11e9-a389-42010a14013c","6eee5448-e4c2-11e9-a389-42010a14013c","6eedbccc-e4c2-11e9-a389-42010a14013c","6eee3ec2-e4c2-11e9-a389-42010a14013c","6eedd2f2-e4c2-11e9-a389-42010a14013c","6eee3ec2-e4c2-11e9-a389-42010a14013c","6eede85a-e4c2-11e9-a389-42010a14013c","6eee3ec2-e4c2-11e9-a389-42010a14013c","6eedfd90-e4c2-11e9-a389-42010a14013c","6eee3ec2-e4c2-11e9-a389-42010a14013c","6eee1398-e4c2-11e9-a389-42010a14013c","6eee3ec2-e4c2-11e9-a389-42010a14013c","6eee28c4-e4c2-11e9-a389-42010a14013c","6eee3ec2-e4c2-11e9-a389-42010a14013c","6eee5448-e4c2-11e9-a389-42010a14013c","6eee7c70-e4c2-11e9-a389-42010a14013c","6eee9002-e4c2-11e9-a389-42010a14013c","6eef4d6c-e4c2-11e9-a389-42010a14013c","6eef2378-e4c2-11e9-a389-42010a14013c","6eef2378-e4c2-11e9-a389-42010a14013c","6eef2378-e4c2-11e9-a389-42010a14013c","6eef2378-e4c2-11e9-a389-42010a14013c","6eef2378-e4c2-11e9-a389-42010a14013c","6eef2378-e4c2-11e9-a389-42010a14013c","6eef3872-e4c2-11e9-a389-42010a14013c","6eef4d6c-e4c2-11e9-a389-42010a14013c","6eef616c-e4c2-11e9-a389-42010a14013c","6efedc14-e4c2-11e9-a389-42010a14013c","6ef1065c-e4c2-11e9-a389-42010a14013c","6ef03164-e4c2-11e9-a389-42010a14013c","6ef0ddc6-e4c2-11e9-a389-42010a14013c","6ef046fe-e4c2-11e9-a389-42010a14013c","6ef0c7b4-e4c2-11e9-a389-42010a14013c","6ef05d24-e4c2-11e9-a389-42010a14013c","6ef0c7b4-e4c2-11e9-a389-42010a14013c","6ef07264-e4c2-11e9-a389-42010a14013c","6ef0c7b4-e4c2-11e9-a389-42010a14013c","6ef08786-e4c2-11e9-a389-42010a14013c","6ef0c7b4-e4c2-11e9-a389-42010a14013c","6ef09c9e-e4c2-11e9-a389-42010a14013c","6ef0c7b4-e4c2-11e9-a389-42010a14013c","6ef0b2ec-e4c2-11e9-a389-42010a14013c","6ef0c7b4-e4c2-11e9-a389-42010a14013c","6ef0ddc6-e4c2-11e9-a389-42010a14013c","6ef1065c-e4c2-11e9-a389-42010a14013c","6ef11aac-e4c2-11e9-a389-42010a14013c","6ef1dbf4-e4c2-11e9-a389-42010a14013c","6ef1afee-e4c2-11e9-a389-42010a14013c","6ef1afee-e4c2-11e9-a389-42010a14013c","6ef1afee-e4c2-11e9-a389-42010a14013c","6ef1afee-e4c2-11e9-a389-42010a14013c","6ef1afee-e4c2-11e9-a389-42010a14013c","6ef1afee-e4c2-11e9-a389-42010a14013c","6ef1c59c-e4c2-11e9-a389-42010a14013c","6ef1dbf4-e4c2-11e9-a389-42010a14013c","6ef1f30a-e4c2-11e9-a389-42010a14013c","6efedc14-e4c2-11e9-a389-42010a14013c","6ef3a0b0-e4c2-11e9-a389-42010a14013c","6ef2c69a-e4c2-11e9-a389-42010a14013c","6ef378f6-e4c2-11e9-a389-42010a14013c","6ef2dc48-e4c2-11e9-a389-42010a14013c","6ef3641a-e4c2-11e9-a389-42010a14013c","6ef2f688-e4c2-11e9-a389-42010a14013c","6ef3641a-e4c2-11e9-a389-42010a14013c","6ef30cb8-e4c2-11e9-a389-42010a14013c","6ef3641a-e4c2-11e9-a389-42010a14013c","6ef3250e-e4c2-11e9-a389-42010a14013c","6ef3641a-e4c2-11e9-a389-42010a14013c","6ef33ac6-e4c2-11e9-a389-42010a14013c","6ef3641a-e4c2-11e9-a389-42010a14013c","6ef34f48-e4c2-11e9-a389-42010a14013c","6ef3641a-e4c2-11e9-a389-42010a14013c","6ef378f6-e4c2-11e9-a389-42010a14013c","6ef3a0b0-e4c2-11e9-a389-42010a14013c","6ef3b6fe-e4c2-11e9-a389-42010a14013c","6ef478f0-e4c2-11e9-a389-42010a14013c","6ef44dda-e4c2-11e9-a389-42010a14013c","6ef44dda-e4c2-11e9-a389-42010a14013c","6ef44dda-e4c2-11e9-a389-42010a14013c","6ef44dda-e4c2-11e9-a389-42010a14013c","6ef44dda-e4c2-11e9-a389-42010a14013c","6ef44dda-e4c2-11e9-a389-42010a14013c","6ef46450-e4c2-11e9-a389-42010a14013c","6ef478f0-e4c2-11e9-a389-42010a14013c","6ef48da4-e4c2-11e9-a389-42010a14013c","6efedc14-e4c2-11e9-a389-42010a14013c","6ef64086-e4c2-11e9-a389-42010a14013c","6ef55f04-e4c2-11e9-a389-42010a14013c","6ef61368-e4c2-11e9-a389-42010a14013c","6ef575c0-e4c2-11e9-a389-42010a14013c","6ef5fcca-e4c2-11e9-a389-42010a14013c","6ef59078-e4c2-11e9-a389-42010a14013c","6ef5fcca-e4c2-11e9-a389-42010a14013c","6ef5a702-e4c2-11e9-a389-42010a14013c","6ef5fcca-e4c2-11e9-a389-42010a14013c","6ef5bc6a-e4c2-11e9-a389-42010a14013c","6ef5fcca-e4c2-11e9-a389-42010a14013c","6ef5d182-e4c2-11e9-a389-42010a14013c","6ef5fcca-e4c2-11e9-a389-42010a14013c","6ef5e65e-e4c2-11e9-a389-42010a14013c","6ef5fcca-e4c2-11e9-a389-42010a14013c","6ef61368-e4c2-11e9-a389-42010a14013c","6ef64086-e4c2-11e9-a389-42010a14013c","6ef65486-e4c2-11e9-a389-42010a14013c","6ef71416-e4c2-11e9-a389-42010a14013c","6ef6ea18-e4c2-11e9-a389-42010a14013c","6ef6ea18-e4c2-11e9-a389-42010a14013c","6ef6ea18-e4c2-11e9-a389-42010a14013c","6ef6ea18-e4c2-11e9-a389-42010a14013c","6ef6ea18-e4c2-11e9-a389-42010a14013c","6ef6ea18-e4c2-11e9-a389-42010a14013c","6ef6ff44-e4c2-11e9-a389-42010a14013c","6ef71416-e4c2-11e9-a389-42010a14013c","6ef7276c-e4c2-11e9-a389-42010a14013c","6efedc14-e4c2-11e9-a389-42010a14013c","6ef8ca36-e4c2-11e9-a389-42010a14013c","6ef7f462-e4c2-11e9-a389-42010a14013c","6ef8a22c-e4c2-11e9-a389-42010a14013c","6ef80ad8-e4c2-11e9-a389-42010a14013c","6ef88bca-e4c2-11e9-a389-42010a14013c","6ef82086-e4c2-11e9-a389-42010a14013c","6ef88bca-e4c2-11e9-a389-42010a14013c","6ef836a2-e4c2-11e9-a389-42010a14013c","6ef88bca-e4c2-11e9-a389-42010a14013c","6ef84c1e-e4c2-11e9-a389-42010a14013c","6ef88bca-e4c2-11e9-a389-42010a14013c","6ef8614a-e4c2-11e9-a389-42010a14013c","6ef88bca-e4c2-11e9-a389-42010a14013c","6ef876ee-e4c2-11e9-a389-42010a14013c","6ef88bca-e4c2-11e9-a389-42010a14013c","6ef8a22c-e4c2-11e9-a389-42010a14013c","6ef8ca36-e4c2-11e9-a389-42010a14013c","6ef8de0e-e4c2-11e9-a389-42010a14013c","6ef99970-e4c2-11e9-a389-42010a14013c","6ef96edc-e4c2-11e9-a389-42010a14013c","6ef96edc-e4c2-11e9-a389-42010a14013c","6ef96edc-e4c2-11e9-a389-42010a14013c","6ef96edc-e4c2-11e9-a389-42010a14013c","6ef96edc-e4c2-11e9-a389-42010a14013c","6ef96edc-e4c2-11e9-a389-42010a14013c","6ef984a8-e4c2-11e9-a389-42010a14013c","6ef99970-e4c2-11e9-a389-42010a14013c","6ef9ad8e-e4c2-11e9-a389-42010a14013c","6efedc14-e4c2-11e9-a389-42010a14013c","6efb5abc-e4c2-11e9-a389-42010a14013c","6efa83e4-e4c2-11e9-a389-42010a14013c","6efb30dc-e4c2-11e9-a389-42010a14013c","6efa9a46-e4c2-11e9-a389-42010a14013c","6efb1b56-e4c2-11e9-a389-42010a14013c","6efaafe0-e4c2-11e9-a389-42010a14013c","6efb1b56-e4c2-11e9-a389-42010a14013c","6efac4da-e4c2-11e9-a389-42010a14013c","6efb1b56-e4c2-11e9-a389-42010a14013c","6efada6a-e4c2-11e9-a389-42010a14013c","6efb1b56-e4c2-11e9-a389-42010a14013c","6efaef50-e4c2-11e9-a389-42010a14013c","6efb1b56-e4c2-11e9-a389-42010a14013c","6efb059e-e4c2-11e9-a389-42010a14013c","6efb1b56-e4c2-11e9-a389-42010a14013c","6efb30dc-e4c2-11e9-a389-42010a14013c","6efb5abc-e4c2-11e9-a389-42010a14013c","6efb6ea8-e4c2-11e9-a389-42010a14013c","6efc2dc0-e4c2-11e9-a389-42010a14013c","6efc048a-e4c2-11e9-a389-42010a14013c","6efc048a-e4c2-11e9-a389-42010a14013c","6efc048a-e4c2-11e9-a389-42010a14013c","6efc048a-e4c2-11e9-a389-42010a14013c","6efc048a-e4c2-11e9-a389-42010a14013c","6efc048a-e4c2-11e9-a389-42010a14013c","6efc19f2-e4c2-11e9-a389-42010a14013c","6efc2dc0-e4c2-11e9-a389-42010a14013c","6efc42f6-e4c2-11e9-a389-42010a14013c","6efedc14-e4c2-11e9-a389-42010a14013c","6efde142-e4c2-11e9-a389-42010a14013c","6efd106e-e4c2-11e9-a389-42010a14013c","6efdb960-e4c2-11e9-a389-42010a14013c","6efd26b2-e4c2-11e9-a389-42010a14013c","6efda452-e4c2-11e9-a389-42010a14013c","6efd3b0c-e4c2-11e9-a389-42010a14013c","6efda452-e4c2-11e9-a389-42010a14013c","6efd502e-e4c2-11e9-a389-42010a14013c","6efda452-e4c2-11e9-a389-42010a14013c","6efd64b0-e4c2-11e9-a389-42010a14013c","6efda452-e4c2-11e9-a389-42010a14013c","6efd7b1c-e4c2-11e9-a389-42010a14013c","6efda452-e4c2-11e9-a389-42010a14013c","6efd9020-e4c2-11e9-a389-42010a14013c","6efda452-e4c2-11e9-a389-42010a14013c","6efdb960-e4c2-11e9-a389-42010a14013c","6efde142-e4c2-11e9-a389-42010a14013c","6efdf4f2-e4c2-11e9-a389-42010a14013c","6efeb342-e4c2-11e9-a389-42010a14013c","6efe8840-e4c2-11e9-a389-42010a14013c","6efe8840-e4c2-11e9-a389-42010a14013c","6efe8840-e4c2-11e9-a389-42010a14013c","6efe8840-e4c2-11e9-a389-42010a14013c","6efe8840-e4c2-11e9-a389-42010a14013c","6efe8840-e4c2-11e9-a389-42010a14013c","6efe9d9e-e4c2-11e9-a389-42010a14013c","6efeb342-e4c2-11e9-a389-42010a14013c","6efec6a2-e4c2-11e9-a389-42010a14013c","6efedc14-e4c2-11e9-a389-42010a14013c","6efef2bc-e4c2-11e9-a389-42010a14013c","6eff0630-e4c2-11e9-a389-42010a14013c","6eff4370-e4c2-11e9-a389-42010a14013c","6eff1b16-e4c2-11e9-a389-42010a14013c","6eff4370-e4c2-11e9-a389-42010a14013c","6eff2e94-e4c2-11e9-a389-42010a14013c","6eff4370-e4c2-11e9-a389-42010a14013c","6eff58d8-e4c2-11e9-a389-42010a14013c"],"label":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"edges":{"arrows":"to"},"layout":{"hierarchical":{"enabled":true,"levelSeparation":500,"nodeSpacing":200,"direction":"RL"}},"groups":{"useDefaultGroups":true,"none":{"color":{"border":"black","background":"white"}}}},"groups":["none"],"width":"100%","height":"400px","idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="train-the-super-learner-on-the-machine-learning-task" class="section level3 unnumbered">
<h3>3. Train the super learner on the machine learning task</h3>
<p>The super learner algorithm fits a metalearner on the validation-set
predictions in a cross-validated manner, thereby avoiding overfitting. This
procedure is referred to as the <em>continuous</em> super learner. The cross-validation
selector, or <em>discrete</em> super learner, is the base learner with the lowest
cross-validated risk.</p>
<p>Now we are ready to <strong>“train”</strong> our super learner on our <code>sl3_task</code> object,
<code>washb_task</code>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">sl_fit &lt;-<span class="st"> </span>sl<span class="op">$</span><span class="kw">train</span>(washb_task)</a></code></pre></div>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
</div>
<div id="obtain-predicted-values" class="section level3 unnumbered">
<h3>4. Obtain predicted values</h3>
<p>Now that we have fit the super learner, we are ready to obtain our predicted
values for each subject.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1">sl_preds &lt;-<span class="st"> </span>sl_fit<span class="op">$</span><span class="kw">predict</span>()</a>
<a class="sourceLine" id="cb72-2" data-line-number="2"><span class="kw">head</span>(sl_preds)</a></code></pre></div>
<pre><code>[1] -0.5502589 -0.9001866 -0.7516792 -0.7571144 -0.6840384 -0.7098304</code></pre>
<!--
plot observed vs predicted
-->
<p>We can also obtain a summary of the results.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1">sl_fit<span class="op">$</span><span class="kw">print</span>()</a></code></pre></div>
<pre><code>[1] &quot;SuperLearner:&quot;
List of 2
 $ : chr &quot;Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)&quot;
 $ : chr &quot;Stack&quot;
[1] &quot;Lrnr_nnls&quot;
                                                                                                 lrnrs
1:                           Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)_Lrnr_glm_TRUE
2:                               Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)_Lrnr_mean
3:                  Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)_Lrnr_ranger_100_TRUE_1
4: Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)_Lrnr_glmnet_NULL_deviance_10_1_100_TRUE
5:                                                                                 Stack_Lrnr_glm_TRUE
6:                                                                                     Stack_Lrnr_mean
7:                                                                        Stack_Lrnr_ranger_100_TRUE_1
8:                                                       Stack_Lrnr_glmnet_NULL_deviance_10_1_100_TRUE
      weights
1: 0.17461721
2: 0.00000000
3: 0.31862727
4: 0.00000000
5: 0.03859302
6: 0.00000000
7: 0.14464150
8: 0.32697188
[1] &quot;Cross-validated risk (MSE, squared error loss):&quot;
                                                                                               learner
1:                           Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)_Lrnr_glm_TRUE
2:                               Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)_Lrnr_mean
3:                  Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)_Lrnr_ranger_100_TRUE_1
4: Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)_Lrnr_glmnet_NULL_deviance_10_1_100_TRUE
5:                                                                                 Stack_Lrnr_glm_TRUE
6:                                                                                     Stack_Lrnr_mean
7:                                                                        Stack_Lrnr_ranger_100_TRUE_1
8:                                                       Stack_Lrnr_glmnet_NULL_deviance_10_1_100_TRUE
9:                                                                                        SuperLearner
   coefficients mean_risk    SE_risk    fold_SD fold_min_risk fold_max_risk
1:           NA  1.015128 0.02363317 0.07629401     0.8927540      1.131594
2:           NA  1.065282 0.02502664 0.09191791     0.9264292      1.196647
3:           NA  1.017588 0.02352038 0.07782611     0.8797868      1.152394
4:           NA  1.012444 0.02359319 0.07893274     0.8821712      1.130862
5:           NA  1.018612 0.02380402 0.07799191     0.8956048      1.134940
6:           NA  1.065282 0.02502664 0.09191791     0.9264292      1.196647
7:           NA  1.020239 0.02346610 0.08489919     0.8754370      1.155496
8:           NA  1.012219 0.02359025 0.07913879     0.8826677      1.130414
9:           NA  1.006121 0.02338266 0.07890401     0.8722768      1.131977</code></pre>
<p>We can see that the super learner (row 5 of the printed super learner fit) had
a mean risk of 1.007274 and this ensemble weighted <code>ranger</code> and <code>glmnet</code>
learners highest, and did not weight <code>mean</code>. We can also see that the <code>glmnet</code>
had the lowest cross-validated mean risk and it is thus the cross-validated
selector, or the discrete super learner. The mean risk of the (continuous) super
learner is calculated using the hold-out set that we visualized in the plot
above.</p>
</div>
</div>
<div id="cross-validated-super-learner" class="section level2">
<h2><span class="header-section-number">3.4</span> Cross-validated Super Learner</h2>
<p>We can cross-validate the super learner to see how well the super learner
performs on unseen data, and obtain an estimate of the cross-validated risk of
the super learner.</p>
<p>This estimation procedure requires an “external” layer of cross-validation,
also called nested cross-validation, which involves setting aside a separate
holdout sample that we don’t use to fit the super learner. This
external cross validation procedure may also incorporate 10 folds, which is the
default in <code>sl3</code>. However, we will incorporate 2 outer/external folds of
cross-validation for computational efficiency.</p>
<p>We also need to specify a loss function to evaluate super learner.
Documentation for the available loss functions can be found in the <a href="https://tlverse.org/sl3/reference/loss_functions.html"><code>sl3</code> Loss
Function Reference</a>.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1">washb_task_new &lt;-<span class="st"> </span><span class="kw">make_sl3_Task</span>(</a>
<a class="sourceLine" id="cb76-2" data-line-number="2">  <span class="dt">data =</span> washb_data,</a>
<a class="sourceLine" id="cb76-3" data-line-number="3">  <span class="dt">covariates =</span> covars,</a>
<a class="sourceLine" id="cb76-4" data-line-number="4">  <span class="dt">outcome =</span> outcome,</a>
<a class="sourceLine" id="cb76-5" data-line-number="5">  <span class="dt">folds =</span> <span class="kw">make_folds</span>(washb_data, <span class="dt">fold_fun =</span> folds_vfold, <span class="dt">V =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb76-6" data-line-number="6">)</a></code></pre></div>
<pre><code>Warning in .subset2(public_bind_env, &quot;initialize&quot;)(...): Missing Covariate Data
Found. Imputing covariates using sl3_process_missing.</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1">CVsl_fancy &lt;-<span class="st"> </span><span class="kw">CV_lrnr_sl</span>(sl_fit, washb_task_new, loss_squared_error)</a></code></pre></div>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.gam failed with message: loading required package (gam)
failed. It will be removed from the stack</code></pre>
<pre><code>Warning in private$.train(subsetted_task, trained_sublearners):
Lrnr_pkg_SuperLearner_SL.bayesglm failed with message: loading required package
(arm) failed. It will be removed from the stack</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" data-line-number="1">CVsl_fancy <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb179-2" data-line-number="2"><span class="st">  </span><span class="kw">kable</span>(<span class="dt">digits =</span> <span class="dv">4</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb179-3" data-line-number="3"><span class="st">  </span>kableExtra<span class="op">:::</span><span class="kw">kable_styling</span>(<span class="dt">fixed_thead =</span> T) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb179-4" data-line-number="4"><span class="st">  </span><span class="kw">scroll_box</span>(<span class="dt">width =</span> <span class="st">&quot;100%&quot;</span>, <span class="dt">height =</span> <span class="st">&quot;300px&quot;</span>)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
learner
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
coefficients
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
mean_risk
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
SE_risk
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
fold_SD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
fold_min_risk
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
fold_max_risk
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)_Lrnr_glm_TRUE
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0263
</td>
<td style="text-align:right;">
0.0239
</td>
<td style="text-align:right;">
0.0068
</td>
<td style="text-align:right;">
1.0215
</td>
<td style="text-align:right;">
1.0311
</td>
</tr>
<tr>
<td style="text-align:left;">
Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)_Lrnr_mean
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0655
</td>
<td style="text-align:right;">
0.0251
</td>
<td style="text-align:right;">
0.0121
</td>
<td style="text-align:right;">
1.0569
</td>
<td style="text-align:right;">
1.0741
</td>
</tr>
<tr>
<td style="text-align:left;">
Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)_Lrnr_ranger_100_TRUE_1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0346
</td>
<td style="text-align:right;">
0.0239
</td>
<td style="text-align:right;">
0.0170
</td>
<td style="text-align:right;">
1.0226
</td>
<td style="text-align:right;">
1.0466
</td>
</tr>
<tr>
<td style="text-align:left;">
Pipeline(Lrnr_pkg_SuperLearner_screener_screen.corP-&gt;Stack)_Lrnr_glmnet_NULL_deviance_10_1_100_TRUE
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0158
</td>
<td style="text-align:right;">
0.0237
</td>
<td style="text-align:right;">
0.0106
</td>
<td style="text-align:right;">
1.0083
</td>
<td style="text-align:right;">
1.0233
</td>
</tr>
<tr>
<td style="text-align:left;">
Stack_Lrnr_glm_TRUE
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0434
</td>
<td style="text-align:right;">
0.0268
</td>
<td style="text-align:right;">
0.0295
</td>
<td style="text-align:right;">
1.0225
</td>
<td style="text-align:right;">
1.0642
</td>
</tr>
<tr>
<td style="text-align:left;">
Stack_Lrnr_mean
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0655
</td>
<td style="text-align:right;">
0.0251
</td>
<td style="text-align:right;">
0.0121
</td>
<td style="text-align:right;">
1.0569
</td>
<td style="text-align:right;">
1.0741
</td>
</tr>
<tr>
<td style="text-align:left;">
Stack_Lrnr_ranger_100_TRUE_1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0242
</td>
<td style="text-align:right;">
0.0239
</td>
<td style="text-align:right;">
0.0017
</td>
<td style="text-align:right;">
1.0229
</td>
<td style="text-align:right;">
1.0254
</td>
</tr>
<tr>
<td style="text-align:left;">
Stack_Lrnr_glmnet_NULL_deviance_10_1_100_TRUE
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0164
</td>
<td style="text-align:right;">
0.0237
</td>
<td style="text-align:right;">
0.0125
</td>
<td style="text-align:right;">
1.0076
</td>
<td style="text-align:right;">
1.0253
</td>
</tr>
<tr>
<td style="text-align:left;">
SuperLearner
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0156
</td>
<td style="text-align:right;">
0.0237
</td>
<td style="text-align:right;">
0.0061
</td>
<td style="text-align:right;">
1.0113
</td>
<td style="text-align:right;">
1.0199
</td>
</tr>
</tbody>
</table>
</div>
<!-- Explain summary!!!! -->
</div>
<div id="variable-importance-measures-with-sl3" class="section level2">
<h2><span class="header-section-number">3.5</span> Variable Importance Measures with <code>sl3</code></h2>
<p>Variable importance can be interesting and informative. The <code>sl3</code> <code>varimp</code>
function returns a table with variables listed in decreasing order of
importance, in which the measure of importance is based on a risk difference
between the learner fit with a permuted covariate and the learner fit with the
true covariate, across all covariates. In this manner, the larger the risk
difference, the more important the variable is in the prediction. Let’s explore
the <code>sl3</code> variable importance measurements for the <code>washb</code> data.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb180-1" data-line-number="1">washb_varimp &lt;-<span class="st"> </span><span class="kw">varimp</span>(sl_fit, loss_squared_error)</a>
<a class="sourceLine" id="cb180-2" data-line-number="2">washb_varimp <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb180-3" data-line-number="3"><span class="st">  </span><span class="kw">kable</span>(<span class="dt">digits =</span> <span class="dv">4</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb180-4" data-line-number="4"><span class="st">  </span>kableExtra<span class="op">:::</span><span class="kw">kable_styling</span>(<span class="dt">fixed_thead =</span> T) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb180-5" data-line-number="5"><span class="st">  </span><span class="kw">scroll_box</span>(<span class="dt">width =</span> <span class="st">&quot;100%&quot;</span>, <span class="dt">height =</span> <span class="st">&quot;300px&quot;</span>)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
X
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
risk_diff
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
aged
</td>
<td style="text-align:right;">
0.0456
</td>
</tr>
<tr>
<td style="text-align:left;">
momedu
</td>
<td style="text-align:right;">
0.0074
</td>
</tr>
<tr>
<td style="text-align:left;">
asset_refrig
</td>
<td style="text-align:right;">
0.0065
</td>
</tr>
<tr>
<td style="text-align:left;">
tr
</td>
<td style="text-align:right;">
0.0061
</td>
</tr>
<tr>
<td style="text-align:left;">
momheight
</td>
<td style="text-align:right;">
0.0045
</td>
</tr>
<tr>
<td style="text-align:left;">
Nlt18
</td>
<td style="text-align:right;">
0.0041
</td>
</tr>
<tr>
<td style="text-align:left;">
floor
</td>
<td style="text-align:right;">
0.0034
</td>
</tr>
<tr>
<td style="text-align:left;">
asset_chair
</td>
<td style="text-align:right;">
0.0029
</td>
</tr>
<tr>
<td style="text-align:left;">
month
</td>
<td style="text-align:right;">
0.0023
</td>
</tr>
<tr>
<td style="text-align:left;">
elec
</td>
<td style="text-align:right;">
0.0020
</td>
</tr>
<tr>
<td style="text-align:left;">
asset_moto
</td>
<td style="text-align:right;">
0.0020
</td>
</tr>
<tr>
<td style="text-align:left;">
asset_khat
</td>
<td style="text-align:right;">
0.0012
</td>
</tr>
<tr>
<td style="text-align:left;">
asset_chouki
</td>
<td style="text-align:right;">
0.0010
</td>
</tr>
<tr>
<td style="text-align:left;">
asset_wardrobe
</td>
<td style="text-align:right;">
0.0010
</td>
</tr>
<tr>
<td style="text-align:left;">
hfiacat
</td>
<td style="text-align:right;">
0.0009
</td>
</tr>
<tr>
<td style="text-align:left;">
fracode
</td>
<td style="text-align:right;">
0.0001
</td>
</tr>
<tr>
<td style="text-align:left;">
watmin
</td>
<td style="text-align:right;">
0.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
delta_momage
</td>
<td style="text-align:right;">
0.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
roof
</td>
<td style="text-align:right;">
0.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
walls
</td>
<td style="text-align:right;">
-0.0001
</td>
</tr>
<tr>
<td style="text-align:left;">
asset_sewmach
</td>
<td style="text-align:right;">
-0.0001
</td>
</tr>
<tr>
<td style="text-align:left;">
sex
</td>
<td style="text-align:right;">
-0.0001
</td>
</tr>
<tr>
<td style="text-align:left;">
asset_bike
</td>
<td style="text-align:right;">
-0.0001
</td>
</tr>
<tr>
<td style="text-align:left;">
momage
</td>
<td style="text-align:right;">
-0.0002
</td>
</tr>
<tr>
<td style="text-align:left;">
asset_table
</td>
<td style="text-align:right;">
-0.0002
</td>
</tr>
<tr>
<td style="text-align:left;">
delta_momheight
</td>
<td style="text-align:right;">
-0.0003
</td>
</tr>
<tr>
<td style="text-align:left;">
asset_mobile
</td>
<td style="text-align:right;">
-0.0005
</td>
</tr>
<tr>
<td style="text-align:left;">
Ncomp
</td>
<td style="text-align:right;">
-0.0005
</td>
</tr>
<tr>
<td style="text-align:left;">
asset_tv
</td>
<td style="text-align:right;">
-0.0009
</td>
</tr>
</tbody>
</table>
</div>
<!-- Explain summary!!!! -->
</div>
<div id="sl3ex1" class="section level2">
<h2><span class="header-section-number">3.6</span> Exercise 1 – Predicting Myocardial Infarction with <code>sl3</code></h2>
<p>Answer the questions below to predict myocardial infarction (<code>mi</code>) using the
available covariate data. Thanks to Professor David Benkeser at Emory University
for making the this Cardiovascular Health Study (CHS) data easily accessible.</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" data-line-number="1"><span class="co"># load the data set</span></a>
<a class="sourceLine" id="cb181-2" data-line-number="2">db_data &lt;-</a>
<a class="sourceLine" id="cb181-3" data-line-number="3"><span class="st"> </span><span class="kw">url</span>(<span class="st">&quot;https://raw.githubusercontent.com/benkeser/sllecture/master/chspred.csv&quot;</span>)</a>
<a class="sourceLine" id="cb181-4" data-line-number="4">chspred &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="dt">file =</span> db_data, <span class="dt">col_names =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb181-5" data-line-number="5"><span class="co"># take a quick peek</span></a>
<a class="sourceLine" id="cb181-6" data-line-number="6"><span class="kw">head</span>(chspred) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb181-7" data-line-number="7"><span class="st">  </span><span class="kw">kable</span>(<span class="dt">digits =</span> <span class="dv">4</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb181-8" data-line-number="8"><span class="st">  </span>kableExtra<span class="op">:::</span><span class="kw">kable_styling</span>(<span class="dt">fixed_thead =</span> T) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb181-9" data-line-number="9"><span class="st">  </span><span class="kw">scroll_box</span>(<span class="dt">width =</span> <span class="st">&quot;100%&quot;</span>, <span class="dt">height =</span> <span class="st">&quot;300px&quot;</span>)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
waist
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
alcoh
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
hdl
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
beta
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
smoke
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
ace
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
ldl
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
bmi
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
aspirin
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
gend
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
age
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
estrgn
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
glu
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
ins
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
cysgfr
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
dm
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
fetuina
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
whr
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
hsed
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
race
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
logcystat
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
logtrig
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
logcrp
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
logcre
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
health
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
logkcal
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
sysbp
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">
mi
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
110.1642
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
66.4974
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
114.2162
</td>
<td style="text-align:right;">
27.9975
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5179
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
159.9314
</td>
<td style="text-align:right;">
70.3343
</td>
<td style="text-align:right;">
75.0078
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.1752
</td>
<td style="text-align:right;">
1.1690
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
-0.3420
</td>
<td style="text-align:right;">
5.4063
</td>
<td style="text-align:right;">
2.0126
</td>
<td style="text-align:right;">
-0.6739
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4.3926
</td>
<td style="text-align:right;">
177.1345
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
89.9763
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
50.0652
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
103.7766
</td>
<td style="text-align:right;">
20.8931
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
61.7723
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
153.3888
</td>
<td style="text-align:right;">
33.9695
</td>
<td style="text-align:right;">
82.7433
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.5717
</td>
<td style="text-align:right;">
0.9011
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-0.0847
</td>
<td style="text-align:right;">
4.8592
</td>
<td style="text-align:right;">
3.2933
</td>
<td style="text-align:right;">
-0.5551
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6.2071
</td>
<td style="text-align:right;">
136.3742
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
106.1941
</td>
<td style="text-align:right;">
8.4174
</td>
<td style="text-align:right;">
40.5059
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
165.7158
</td>
<td style="text-align:right;">
28.4554
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
72.9312
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
121.7145
</td>
<td style="text-align:right;">
-17.3017
</td>
<td style="text-align:right;">
74.6989
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.3517
</td>
<td style="text-align:right;">
1.1797
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
-0.4451
</td>
<td style="text-align:right;">
4.5088
</td>
<td style="text-align:right;">
0.3013
</td>
<td style="text-align:right;">
-0.0115
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
6.7320
</td>
<td style="text-align:right;">
135.1993
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
90.0566
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
36.1750
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
45.2035
</td>
<td style="text-align:right;">
23.9608
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
79.1191
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
53.9691
</td>
<td style="text-align:right;">
11.7315
</td>
<td style="text-align:right;">
95.7823
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.5439
</td>
<td style="text-align:right;">
1.1360
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-0.4807
</td>
<td style="text-align:right;">
5.1832
</td>
<td style="text-align:right;">
3.0243
</td>
<td style="text-align:right;">
-0.5751
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7.3972
</td>
<td style="text-align:right;">
139.0182
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
78.6143
</td>
<td style="text-align:right;">
2.9790
</td>
<td style="text-align:right;">
71.0642
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
131.3121
</td>
<td style="text-align:right;">
10.9656
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
69.0179
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
94.3153
</td>
<td style="text-align:right;">
9.7112
</td>
<td style="text-align:right;">
72.7109
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.4916
</td>
<td style="text-align:right;">
1.1028
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.3121
</td>
<td style="text-align:right;">
4.2190
</td>
<td style="text-align:right;">
-0.7057
</td>
<td style="text-align:right;">
0.0053
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
8.2779
</td>
<td style="text-align:right;">
88.0470
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
91.6593
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
59.4963
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
171.1872
</td>
<td style="text-align:right;">
29.1317
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
81.8346
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
212.9066
</td>
<td style="text-align:right;">
-28.2269
</td>
<td style="text-align:right;">
69.2184
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.4621
</td>
<td style="text-align:right;">
0.9529
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-0.2872
</td>
<td style="text-align:right;">
5.1773
</td>
<td style="text-align:right;">
0.9705
</td>
<td style="text-align:right;">
0.2127
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5.9942
</td>
<td style="text-align:right;">
69.5943
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<ol style="list-style-type: decimal">
<li>Create an <code>sl3</code> task, setting myocardial infarction <code>mi</code> as the outcome and
using all available covariate data.</li>
<li>Make a library of seven relatively fast base learning algorithms (i.e., do
not consider BART or HAL). Customize hyperparameters for one of your
learners. Feel free to use learners from <code>sl3</code> or <code>SuperLearner</code>. You may
use the same base learning library that is presented above.</li>
<li>Incorporate feature selection with the <code>SuperLearner</code> screener <code>screen.corP</code>.</li>
<li>Fit the metalearning step with non-negative least squares, <code>Lrnr_nnls</code>.</li>
<li>With the metalearner and base learners, make the super learner and train it
on the task.</li>
<li>Print your super learner fit by calling <code>print()</code> with <code>$</code>.</li>
<li>Cross-validate your super learner fit to see how well it performs on unseen
data. Specify <code>loss_squared_error</code> as the loss function to evaluate the
super learner.</li>
</ol>
</div>
<div id="super-learning-of-a-conditional-density" class="section level2">
<h2><span class="header-section-number">3.7</span> Super Learning of a Conditional Density</h2>
<!--

### Super learning of a conditional density

Suppose we want to construct a super learner of the conditional probability
distribution $g_0(a\mid W)=P_0(A=a\mid W)$, where $a\in {\cal A}$.
Let's denote the values of $a$ with $\{0,1,\ldots,K\}$. A valid loss function
for the conditional density is
\[
L(g)(O)=-\log g(A\mid W).\]
That is, $g_0=\arg\min_g P_0L(g)$, i.e., $g_0$ is the minimizer of the
expectation of the log-likelihood loss.

**Candidate estimators**

1. Candidate estimators based on multinomial logistic regression: To start
with, one can use existing parametric model based MLE and machine learning
algorithms in `R` that fit a multinomial regression. For example, parametric
model multinomial logistic regression is available in `R` so that one can
already build a rich library of such estimators based on  different candidate
parametric models. In addition, `polyclass()` is a multinomial logistic
regression machine learning algorithm in `R`.

2. Candidate estimators based on machine learning for multinomial logistic
regression: Secondly, one can use a machine learning algorithm such as
`polyclass()` in `R` that data adaptively fits a multinomial logistic
regression, which itself has tuning parameters, again generating a class of
candidate estimators.

3. Incorporating screening: Note that one can also marry any of these choices
with a screening algorithm, thereby creating more candidate estimators of
interest. The screening can be particularly important when there are many
variables.

4. Candidate estimators by fitting separate logistic regressions and using
post-normalization

* Code $A$ in terms of Bernoullis $B_k=I(A=k)$, $k=0,\ldots,K$.
* Construct an estimator $\bar{g}_{nk}$ of $\bar{g}_{0k}(W)\equiv P_0(B_k=1\mid
  W)$ using any of the logistic regression algorithms, for all $k=0,\ldots,K$.
* This implies an estimator
\[
g_n(a\mid W)=\frac{\bar{g}_{na}(W)}{\sum_{k=0}^K \bar{g}_{nk}(W)}.\]
* In other words, we simply normalize these separate logistic regression
estimators so that we obtain a valid conditional distribution.
* This generates an enormous amount of interesting algorithms, since we have
available the whole machine learning literature for binary outcome regression.

5. Candidate estimators by estimating the conditional "hazard" with pooled
logistic regression.
Note that
\[
g_0(a\mid W)=\lambda_0(a\mid W) S_0(a\mid W),\]
where \[
\lambda_0(a\mid W)=P_0(A=a\mid A\geq a,W),\]

and $S_0(a\mid W)=\prod_{s\leq a}(1-\lambda_0(s\mid W))$ is the conditional
survival function $P_0(A>a\mid W)$. So we have now parameterized the
conditional distribution of $A$, given $W$, by a conditional hazard
$\lambda_0(a\mid W)$: $g_0=g_{\lambda_0}$.

* We could now focus on constructing candidate estimators of
$\lambda_0(a\mid W)$, which implies candidate estimators of $g_0$.

* For every observation $A_i$, we can create $A_i+1$ rows of data
$(W,s,I(A_i=s))$, $s=0,\ldots,A_i$, $i=1,\ldots,n$. We now run a logistic
regression estimator based on the pooled data set, ignoring ID, where we
regress the binary outcome $I(A_i=s)$ on the covariates $(W,s)$.

* If one assumes a parametric model, then this is nothing else then using the
maximum likelihood estimator, demonstrating that ignoring the ID is not
inefficient.

* This defines now an estimator of $\lambda_0(s\mid W)=P_0(A=s\mid W,A\geq s)$
as a function of $(s,W)$.  

* Different choices of logistic regression based estimators will define
different estimators.

* The pooling across $s$ is not very sensible if $A$ is not an ordered variable
If $A$ is categorical, we recommend to compute  a separate logistic regression
estimator of $\lambda_0(a\mid W)$ for each $a$ (i.e., stratify by $s$ in the
  above pooled data set).

* For non-categorical $A$, one could include both stratified (by level) as well
as pooled (across levels) based logistic regression estimators.

--->
</div>
<div id="sl3ex2" class="section level2">
<h2><span class="header-section-number">3.8</span> Exercise 2 – Estimating the Propensity Score with <code>sl3</code></h2>
<!--
exercise where we can look at positivity and maybe modify target population,
address issues related to this
-->
</div>
<div id="super-learning-of-an-optimal-individualized-treatment-rule" class="section level2">
<h2><span class="header-section-number">3.9</span> Super Learning of an Optimal Individualized Treatment Rule</h2>
<!--
* Data $O=(W,A,Y)$, and nonparametric model \mathcal{M} potentially containing
assumptions on the conditional probability distribution of $A$ given $W$
$g_0(A\mid W)$.
* Target: Optimal treatment rule $\psi_0(W)=I(B_0(W)>0)$, where
$B_0(W)=E_0(Y\mid A=1,W)-E_0(Y\mid A=0,W)$, the conditional treatment effect.
* Possible loss function for $\psi_0$ is an IPCW-loss:
\[
L_{g_0}(\psi)=\frac{I(A=\psi(W))}{g(A\mid W)}Y.\]

Indeed, $\psi_0$ is the minimizer of $EL_{g_0}(\psi)$ over all rules $\psi$.
* Construct library of candidate estimators of $\psi_0=I(B_0>0)$. This can
include estimators based on plugging in an estimator of $B_0$.
* One could also include a candidate estimator $I(B_n>0)$ where $B_n$ is a
super learner of $B_0$, e.g. based on loss function
\[
L_{g_0}(B)=\big(\frac{2A-1}{/g(A\mid W)}Y-B(W)\big)^2\]
that directly targets $B_0=\arg\min_B P_0L_{g_0}(B)$. This loss function is
still a squared error loss but its minimized by the true $B_0$.
* Estimate $g_0$ if not known.
* Compute cross-validation selector:
\[
k_n=\arg\min_k E_{B_n}P_{n,B_n}^1 L_{\hat{g}(P_{n,B_n}^0)}
(\hat{\Psi}_k(P_{n,B_n}^0)).\]
where $B_n = \{0,1\}^n$ is used for a binary vector of $n$ defining sample
splits, where the validation sample is ${i:B_n(i) = 1}$ and ${i:B_n(i) = 0}$ is
the training sample. The empirical distribution $P_{n,B_n}^0$ corresponds to
the split $B_n$ of the training sample and the empirical distribution of the
validation sample is $P_{n,B_n}^1$.
* Super-learner of optimal rule $\psi_0$: $\hat{\Psi}_{k_n}(P_n)$.
-->
</div>
<div id="sl3ex3" class="section level2">
<h2><span class="header-section-number">3.10</span> Exercise 3 – Estimating the Blip</h2>
</div>
<div id="concluding-remarks" class="section level2">
<h2><span class="header-section-number">3.11</span> Concluding Remarks</h2>
<p>The general ensemble learning approach of super learner can be applied to a
diversity of estimation and prediction problems that can be defined by a loss
function. We just discussed conditional mean estimation, and in the appendix we
delve into prediction of a conditional density, and the optimal individualized
treatment rule. Plug-in estimators of the estimand are desirable because a
plug-in estimator respects both the local and global constraints of the
statistical model. We could just plug-in the estimator returned by Super
Learner; however, this is problematic because the Super Learner estimators are
trading off bias and variance in an optimal way and as a result their bias is
essentially the rate of convergence of these algorithms, which is always slower
than <span class="math inline">\(1/\sqrt{n}\)</span>. Therefore, if we plug-in the estimator returned by super
learner into the target parameter mapping, we would end up with an
estimator which has the same bias as what we plugged in, which is greater than
<span class="math inline">\(1/\sqrt{n}\)</span>. Thus, we end up with an estimator which is not asymptotically
normal, since it does not converge to the estimand at <span class="math inline">\(1/\sqrt{n}\)</span> rate.</p>
<p>An asymptotically linear estimator has no meaningful bias ($ &lt; 1/$), and
can be written as an empirical mean in first order of a function of the data,
the influence curve, plus some negligible remainder term. Once an estimator
is asymptotically linear with an influence curve it’s normally distributed, so
the standardized estimator converges to a normal distribution with mean 0 and
variance is the variance of the influence curve. Thus, it is advantageous to
construct asymptotically linear estimators since they permit formal statistical
inference. Among the class of regular asymptotically linear estimators, there is
an optimal estimator which is an efficient estimator, and that’s the one with
influence curve equal to the canonical gradient of the path-wise derivative of
the target parameter. The canonical gradient is the direction of the path
through the data distribution where the parameter is steepest. An estimator is
efficient if and only if is asymptotically linear with influence curve equal to
the canonical gradient. One can calculate the canonical gradient with the
statistical model and the statistical target parameter. Techniques for
calculating the canonical gradient entail projecting an initial gradient on the
tangent space of the model at the particular distribution in the model in which
you want to calculate the canonical gradient.</p>
<p>Now we know what it takes to construct an efficient estimator. Namely, we need
to construct an estimator which is asymptotically linear with influence curve
the canonical gradient. There are three general classes of estimators which
succeed in constructing asymptotically linear estimators: (1) the one-step
estimator, but it is not a plug-in estimator; (2) the targeted maximum
likelihood estimator, which is a super learner targeted towards the target
parameter and it is a plug-in estimator; and (3) estimating equation based
estimators, which use the canonical gradient but as an estimating function in
the target parameter. In the chapters that follow, we focus on the targeted
maximum likelihood estimator and the targeted minimum loss-based estimator,
both referred to as TMLE.</p>
</div>
<div id="appendix" class="section level2">
<h2><span class="header-section-number">3.12</span> Appendix</h2>
<div id="exercise-1-solution" class="section level3">
<h3><span class="header-section-number">3.12.1</span> Exercise 1 Solution</h3>
<p>Here is a potential solution to (Exercise 1 – Predicting Myocardial
Infarction with <code>sl3</code>)<span class="citation">(<span class="citeproc-not-found" data-reference-id="sl3ex1"><strong>???</strong></span>)</span>.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb182-1" data-line-number="1">chspred_task &lt;-<span class="st"> </span><span class="kw">make_sl3_Task</span>(</a>
<a class="sourceLine" id="cb182-2" data-line-number="2">  <span class="dt">data =</span> chspred,</a>
<a class="sourceLine" id="cb182-3" data-line-number="3">  <span class="dt">covariates =</span> <span class="kw">head</span>(<span class="kw">colnames</span>(chspred), <span class="dv">-1</span>),</a>
<a class="sourceLine" id="cb182-4" data-line-number="4">  <span class="dt">outcome =</span> <span class="st">&quot;mi&quot;</span></a>
<a class="sourceLine" id="cb182-5" data-line-number="5">)</a>
<a class="sourceLine" id="cb182-6" data-line-number="6"></a>
<a class="sourceLine" id="cb182-7" data-line-number="7">glm_learner &lt;-<span class="st"> </span>Lrnr_glm<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb182-8" data-line-number="8">lasso_learner &lt;-<span class="st"> </span>Lrnr_glmnet<span class="op">$</span><span class="kw">new</span>(<span class="dt">alpha =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb182-9" data-line-number="9">ridge_learner &lt;-<span class="st"> </span>Lrnr_glmnet<span class="op">$</span><span class="kw">new</span>(<span class="dt">alpha =</span> <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb182-10" data-line-number="10">enet_learner &lt;-<span class="st"> </span>Lrnr_glmnet<span class="op">$</span><span class="kw">new</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb182-11" data-line-number="11">curated_glm_learner &lt;-<span class="st"> </span>Lrnr_glm_fast<span class="op">$</span><span class="kw">new</span>(<span class="dt">formula =</span> <span class="st">&quot;mi ~ smoke + beta + waist&quot;</span>)</a>
<a class="sourceLine" id="cb182-12" data-line-number="12">mean_learner &lt;-<span class="st"> </span>Lrnr_mean<span class="op">$</span><span class="kw">new</span>() <span class="co"># That is one mean learner!</span></a>
<a class="sourceLine" id="cb182-13" data-line-number="13">glm_fast_learner &lt;-<span class="st"> </span>Lrnr_glm_fast<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb182-14" data-line-number="14">ranger_learner &lt;-<span class="st"> </span>Lrnr_ranger<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb182-15" data-line-number="15">svm_learner &lt;-<span class="st"> </span>Lrnr_svm<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb182-16" data-line-number="16">xgb_learner &lt;-<span class="st"> </span>Lrnr_xgboost<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb182-17" data-line-number="17"></a>
<a class="sourceLine" id="cb182-18" data-line-number="18">screen_cor &lt;-<span class="st"> </span>Lrnr_pkg_SuperLearner_screener<span class="op">$</span><span class="kw">new</span>(<span class="st">&quot;screen.corP&quot;</span>)</a>
<a class="sourceLine" id="cb182-19" data-line-number="19">glm_pipeline &lt;-<span class="st"> </span><span class="kw">make_learner</span>(Pipeline, screen_cor, glm_learner)</a>
<a class="sourceLine" id="cb182-20" data-line-number="20"></a>
<a class="sourceLine" id="cb182-21" data-line-number="21">stack &lt;-<span class="st"> </span><span class="kw">make_learner</span>(</a>
<a class="sourceLine" id="cb182-22" data-line-number="22">  Stack,</a>
<a class="sourceLine" id="cb182-23" data-line-number="23">  glm_pipeline, glm_learner,</a>
<a class="sourceLine" id="cb182-24" data-line-number="24">  lasso_learner, ridge_learner, enet_learner,</a>
<a class="sourceLine" id="cb182-25" data-line-number="25">  curated_glm_learner, mean_learner, glm_fast_learner,</a>
<a class="sourceLine" id="cb182-26" data-line-number="26">  ranger_learner, svm_learner, xgb_learner</a>
<a class="sourceLine" id="cb182-27" data-line-number="27">)</a>
<a class="sourceLine" id="cb182-28" data-line-number="28"></a>
<a class="sourceLine" id="cb182-29" data-line-number="29">metalearner &lt;-<span class="st"> </span><span class="kw">make_learner</span>(Lrnr_nnls)</a>
<a class="sourceLine" id="cb182-30" data-line-number="30"></a>
<a class="sourceLine" id="cb182-31" data-line-number="31">sl &lt;-<span class="st"> </span>Lrnr_sl<span class="op">$</span><span class="kw">new</span>(</a>
<a class="sourceLine" id="cb182-32" data-line-number="32">  <span class="dt">learners =</span> stack,</a>
<a class="sourceLine" id="cb182-33" data-line-number="33">  <span class="dt">metalearner =</span> metalearner</a>
<a class="sourceLine" id="cb182-34" data-line-number="34">)</a>
<a class="sourceLine" id="cb182-35" data-line-number="35">sl_fit &lt;-<span class="st"> </span>sl<span class="op">$</span><span class="kw">train</span>(task)</a>
<a class="sourceLine" id="cb182-36" data-line-number="36">sl_fit<span class="op">$</span><span class="kw">print</span>()</a>
<a class="sourceLine" id="cb182-37" data-line-number="37"></a>
<a class="sourceLine" id="cb182-38" data-line-number="38">CVsl &lt;-<span class="st"> </span><span class="kw">CV_lrnr_sl</span>(sl_fit, chspred_task, loss_squared_error)</a>
<a class="sourceLine" id="cb182-39" data-line-number="39">CVsl</a></code></pre></div>
</div>
<div id="exercise-2-solution" class="section level3">
<h3><span class="header-section-number">3.12.2</span> Exercise 2 Solution</h3>
<p>Here’s a potential solution to (Exercise 2)<span class="citation">(<span class="citeproc-not-found" data-reference-id="sl3ex2"><strong>???</strong></span>)</span>.</p>
</div>
<div id="exercise-3-solution" class="section level3">
<h3><span class="header-section-number">3.12.3</span> Exercise 3 Solution</h3>
<p>Here’s a potential solution to the (Exercise 3)<span class="citation">(<span class="citeproc-not-found" data-reference-id="sl3ex3"><strong>???</strong></span>)</span>.</p>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-breiman1996stacked">
<p>Breiman, Leo. 1996. “Stacked Regressions.” <em>Machine Learning</em> 24 (1). Springer: 49–64.</p>
</div>
<div id="ref-polley2010super">
<p>Polley, Eric C, and Mark J van der Laan. 2010. “Super Learner in Prediction.” bepress.</p>
</div>
<div id="ref-vdl2003unified">
<p>van der Laan, Mark J, and Sandrine Dudoit. 2003. “Unified Cross-Validation Methodology for Selection Among Estimators and a General Cross-Validated Adaptive Epsilon-Net Estimator: Finite Sample Oracle Inequalities and Examples.” bepress.</p>
</div>
<div id="ref-van2006oracle">
<p>van der Vaart, Aad W, Sandrine Dudoit, and Mark J van der Laan. 2006. “Oracle Inequalities for Multi-Fold Cross Validation.” <em>Statistics &amp; Decisions</em> 24 (3). Oldenbourg Wissenschaftsverlag: 351–71.</p>
</div>
<div id="ref-wolpert1992stacked">
<p>Wolpert, David H. 1992. “Stacked Generalization.” <em>Neural Networks</em> 5 (2). Elsevier: 241–59.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tlverse.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="the-tmle-framework.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tlverse/tlverse-handbook/edit/master/04-sl3.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
